<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/images/favicon.ico?v=5.1.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="Robert">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Robert">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Robert">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Robert</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Robert</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/19/19{node进阶express进阶handlebars_分页_SOA_微服务}/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Robert">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/19/19{node进阶express进阶handlebars_分页_SOA_微服务}/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T22:33:43+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="分页接口的设计"><a href="#分页接口的设计" class="headerlink" title="分页接口的设计"></a>分页接口的设计</h3><p>1.数据库如何做分页查询<br>使用limit去做分页查询<br>limit后面跟两个数字，数字中间用逗号分隔，第一个数字是开始位数，开始位数，从0开始<br>，也就是说第一条数据的位置为0，第二个数字是取多少条数据<br>select <em> from user  limit 0,10<br>分页返回前端的数据<br>1.开始位置0，总条数（总页数）<br>2.页码，总条数（总页数）<br>总页数=（总条数/每页条数）+1<br>开始位置=页码</em>每页条数</p>
<p>计算总条数使用COUNT<br>SELECT COUNT(*) FROM  USER</p>
<p>#服务器请求服务器<br>request<br>1.可以理解为http里面request方法<br>2.request第三方包</p>
<p>#2.项目设计</p>
<h3 id="2-1SOA（面向服务的体系结构）"><a href="#2-1SOA（面向服务的体系结构）" class="headerlink" title="2.1SOA（面向服务的体系结构）"></a>2.1SOA（面向服务的体系结构）</h3><ul>
<li>面向服务的体系结构（SOA）是一个组件模型，它将应用程序的不同功能单元（称为服务）通过这些服务之间定义良好的接口和契约联系起来。接口是采用中立的方式进行定义的，它应该独立于实现服务的硬件平台、操作系统和编程语言。这使得构建在各种这样的系统中的服务可以以一种统一和通用的方式进行交互。<h3 id="2-2服务器之间交互"><a href="#2-2服务器之间交互" class="headerlink" title="2.2服务器之间交互"></a>2.2服务器之间交互</h3><h2 id="2-3-微服务思想"><a href="#2-3-微服务思想" class="headerlink" title="2.3 微服务思想"></a>2.3 微服务思想</h2>#3.<br>###3.1cookie-parser<br><code>https://github.com/expressjs/cookie-parser</code><br>###3.2cookie-session<br><code>https://github.com/expressjs/cookie-session</code><br>###3.3 express-session<br><code>https://github.com/expressjs/session</code><br>###3.3 connect-flash<br><code>https://www.npmjs.com/package/connect-flash</code><br>###3.4 参考<br><code>http://blog.modulus.io/nodejs-and-express-sessions</code><br>#4.handlebars<h3 id="4-1handlebars介绍"><a href="#4-1handlebars介绍" class="headerlink" title="4.1handlebars介绍"></a>4.1handlebars介绍</h3><code>http://handlebarsjs.com/</code><h3 id="4-2handlebars使用"><a href="#4-2handlebars使用" class="headerlink" title="4.2handlebars使用"></a>4.2handlebars使用</h3><code>https://github.com/ericf/express-handlebars</code></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/19/18{node进阶express路径中间件_连接池(三方包操作数据库)}/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Robert">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/19/18{node进阶express路径中间件_连接池(三方包操作数据库)}/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T22:33:43+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p> title: node 入门11<br> date: 2016-10-20 22:00:00</p>
<h2 id="tags-node"><a href="#tags-node" class="headerlink" title=" tags: node"></a> tags: node</h2><p>###1.1数据库与数据库管理系统</p>
<p>###1.2数据库中的表</p>
<p>###1.3sql语句insert、update、delete</p>
<p>###1.4sql语句简单的select和带条件的查询</p>
<p>###1.5关系型数据库 有行列表结构的传统的数据库</p>
<p>###1.6no sql 数据库 </p>
<ul>
<li>内存数据库 redis</li>
<li>文档型数据库 mongodb<br>#2.express进阶<br>###2.1express项目构建<ul>
<li>express工具全局安装 npm install -g express-</li>
<li>express 命令的使用 -h 通过帮助命令查看</li>
<li>初始化一个项目名称叫demo的项目并且在项目中加入handlbars模板引擎的支持<br>express –hbs demo</li>
<li>在一个已经进行项目命名的文件夹里面初始化项目<br>express –hbs<br>###2.1express项目结构</li>
<li>bin目录 存放脚本文件</li>
<li>models 存在模型文件</li>
<li>node_modules </li>
<li>public 静态文件</li>
<li>routes 路由&amp;控制层</li>
<li>views 视图(存放模板文件)</li>
</ul>
</li>
</ul>
<p>###2.2脚本文件的执行，与命令行工具的开发</p>
<ul>
<li>bin 中www文件是一个脚本文件</li>
<li>写一个node脚本只需要在文件一开始写上–&gt;#!/usr/bin/env node<br>这句话的意义是这个文件使用node进行运行</li>
<li>两种方式调用脚本<br>+第一种使用npm进行文件调用<br>1.在package.json中设置scripts<br><code>&quot;scripts&quot;: {
  &quot;start&quot;: &quot;node ./bin/www&quot;
}</code><br>2.在这包的目录中打npm start命令<br>+第二种编写一个全局安装的命令行工具<br>1.在package.json中设置bin<br><code>&quot;bin&quot;:{
  &quot;haha&quot;:&quot;./bin/www&quot;
}</code><br>2.是用npm link命令将写好的代码安装到全局<br>  和npm install -g 区别<ol>
<li>在控制台打haha可以执行./bin/www脚本</li>
</ol>
</li>
</ul>
<p>#3.express的路径中间件</p>
<p>###3.1为什么需要路由中间件？<br>1.项目分工<br>2.提高可读性<br>3.对比起没有用路由中间件的写法代码更优雅了</p>
<p>###3.2路径中间件的使用</p>
<ul>
<li>在早期的express中没有路由中间件。</li>
<li>在express早起版本将代码拆分模块的写法<br>1.在routes创建一个user.js，用于user模块代码的编写<br>`module.exports = function(app) {<br>  app.get(‘/getUser’,function  (req,res) {<pre><code>res.send(&quot;{success:true}&quot;);
</code></pre>  } );<br>}`<br>2.在app.js中引入这个模块<br>var user = require(‘./routes/user’);<br>3.启用这个模块里面的路由<br>user(app);</li>
<li><p>使用路由中间件<br>1.在routes创建一个user.js，用于user模块代码的编写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var express = require(&apos;express&apos;);</div><div class="line">var router = express.Router();</div><div class="line">router.get(&apos;/getUser&apos;, function(req, res) &#123;</div><div class="line">   res.send(&quot;&#123;success:true&#125;&quot;);</div><div class="line">&#125;);</div><div class="line">module.exports = router;</div></pre></td></tr></table></figure>
<p>2.在app.js中引入这个模块<br><code>var user = require(&#39;./routes/user&#39;);</code><br>3.启用这个模块里面的路由<br><code>app.use(&#39;/&#39;, user);</code></p>
</li>
</ul>
<p>#4. express 连接mysql数据库</p>
<p>###4.1 什么是连接池？<br>连接池是创建和管理一个连接的缓冲池的技术，这些连接准备好被任何需要它们的线程使用。<br>和线程池很像。</p>
<ul>
<li>减少连接创建时间</li>
<li>简化的编程模式</li>
<li>受控的资源使用<br>###4.3使用第三方的mysql的包操作数据库</li>
<li><a href="https://github.com/mysqljs/mysql" target="_blank" rel="external">https://github.com/mysqljs/mysql</a></li>
<li>创建一个线程池连接数据库</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&apos;use strict&apos;;</div><div class="line"></div><div class="line">const mysql = require(&apos;mysql&apos;);</div><div class="line"></div><div class="line">const pool  = mysql.createPool(&#123;</div><div class="line">    host : &apos;you host&apos;,</div><div class="line">    user : &apos;user1&apos;,</div><div class="line">    password : &apos;123456&apos;,</div><div class="line">    database : &apos;itcast&apos;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * [query description]</div><div class="line"> * @return &#123;[type]&#125; [description]</div><div class="line"> */</div><div class="line">// 如果用户传递了两个参数，那么第一个就是 SQL 操作字符串， 第二个就是回调函数</div><div class="line">// 如果是三个参数：第一个SQL字符串，第二个数组，第三个参数回调函数</div><div class="line">exports.query = function() &#123;</div><div class="line">    let args = arguments;</div><div class="line">    let sqlStr = args[0];</div><div class="line">    let params = [];</div><div class="line">    let callback;</div><div class="line"></div><div class="line">    if (args.length === 2 &amp;&amp; typeof args[1] === &apos;function&apos;) &#123;</div><div class="line">        callback = args[1];</div><div class="line">    &#125; else if (args.length === 3 &amp;&amp; Array.isArray(args[1]) &amp;&amp; typeof args[2] === &apos;function&apos;) &#123;</div><div class="line">        params = args[1];</div><div class="line">        callback = args[2];</div><div class="line">    &#125; else &#123;</div><div class="line">        throw new Error(&apos;参数个数不匹配&apos;);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    pool.getConnection(function(err, connection) &#123;</div><div class="line">        if (err) &#123;</div><div class="line">            callback(err);</div><div class="line">        &#125;</div><div class="line">        connection.query(sqlStr, params, function(err, rows) &#123;</div><div class="line">            if (err) &#123;</div><div class="line">                callback(err);</div><div class="line">            &#125;</div><div class="line">            connection.release();</div><div class="line">            callback.apply(null, arguments);</div><div class="line">        &#125;);</div><div class="line">    &#125;);</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<ul>
<li><p>model的编写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">var db = require(&apos;./db.js&apos;);</div><div class="line">function User(user) &#123;</div><div class="line">	this.username = user.username;</div><div class="line">	this.password = user.password;</div><div class="line">&#125;</div><div class="line">User.getUserbyUsername = function (username,callback) &#123;</div><div class="line">	var selectSql = &apos;select * from user where user_name = ?&apos;;</div><div class="line">	db.query(selectSql, [username], function (err, res) &#123;</div><div class="line"></div><div class="line">		console.log(res);</div><div class="line">		callback(err,res);</div><div class="line">	&#125;);</div><div class="line"></div><div class="line">&#125;;</div><div class="line">module.exports = User;</div></pre></td></tr></table></figure>
</li>
<li><p>路由中的调用方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"> var express = require(&apos;express&apos;);</div><div class="line">var user = require(&apos;./models/user.js&apos;);</div><div class="line"> var router = express.Router();</div><div class="line"> router.get(&apos;/getUser&apos;, function(req, res) &#123;</div><div class="line">   user.getUserbyUsername(function(err,data)&#123;</div><div class="line">           if (err) &#123;</div><div class="line">               res.send(&quot;&#123;error:true&#125;&quot;);</div><div class="line">           &#125;</div><div class="line">           res.send(&quot;&#123;success:true&#125;&quot;);</div><div class="line">       &#125;);</div><div class="line"></div><div class="line"> &#125;);</div><div class="line"> module.exports = router;</div></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/19/17{node进阶MySQL数据库基本操作}/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Robert">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/19/17{node进阶MySQL数据库基本操作}/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T22:33:43+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p> title: node 入门10<br> date: 2016-10-16 22:00:00</p>
<h2 id="tags-node"><a href="#tags-node" class="headerlink" title=" tags: node"></a> tags: node</h2><p>#2.数据库基础知识</p>
<p>###2.1什么是数据？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">数据是信息的表现形式和载体，可以是符号、文字、数字、语音、图像、视频等。</div><div class="line">通俗一点，数据就是信息，例如，个人信息、账户信息、家庭信息、企业信息、财务信息等等。</div></pre></td></tr></table></figure></p>
<p>###2.1数据库（Database，DB）？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">数据库是按照数据结构组织、存储和管理数据的仓库。</div></pre></td></tr></table></figure></p>
<ul>
<li>数据安全<br>数据库—&gt;仓库 数据—-&gt;仓库中的货物<br>没有了仓库，货物的安全没有保证，数据更是如此，如果一些重要的信息被我们随意的存放。</li>
<li>查找方便</li>
</ul>
<p>###2.3 什么是数据库管理系统（DataBase Management System，DBMS）？<br>数据库管理系统（DataBase Management System，DBMS）是为管理数据库而设计的大型电脑软件管理系统<br>例如，Oracle、Microsoft SQL Server、Access、MySQL、PostgreSQL、db2等等<br>我们可以简称这些数据库管理系统为数据库，虽然这种叫法不是很严谨，但是一般人都听的懂。</p>
<p>###2.4 数据库管理系统、数据库的关系？<br><img src="./16pic/3.png" alt="Alt text"></p>
<p>###2.5 表<br>表就是由行列组成的一个二维的数据结构</p>
<p><img src="./16pic/5.png" alt="Alt text"></p>
<p>###2.6 数据类型</p>
<ul>
<li>整数类型</li>
</ul>
<p><img src="./16pic/6.png" alt="Alt text"></p>
<ul>
<li>浮点数类型和定点数类型</li>
</ul>
<p><img src="./16pic/7.png" alt="Alt text"></p>
<ul>
<li>日期和时间类型</li>
</ul>
<p><img src="./16pic/8.png" alt="Alt text"></p>
<ul>
<li>字符串和二进制类型</li>
</ul>
<p><img src="./16pic/9.png" alt="Alt text"></p>
<p>###2.6 数据库的分类</p>
<ul>
<li>关系型数据库<br>关系数据库管理系统(Relational Database Management System)，<br>是将数据组织为相关的行和列的系统，而管理关系数据库的计算机软件就是关系数据库管理系统，常用的数据库软件有Oracle、SQL Server、MySQL等。</li>
<li>非关系型数据库 nosql<ul>
<li>内存数据库 redis</li>
<li>面向文档数据库 mongodb</li>
</ul>
</li>
</ul>
<p>#2.创建库、创建表<br>创建数据库 数据库名称 要有意义<br>基字符集 utf8<br>数据库排序规则 utf8_general_ci</p>
<p>#3.sql语言  </p>
<p>###3.1什么是sql语言？</p>
<ul>
<li><p>SQL（Structure Query Language）：结构化查询语言<br>是一种数据库查询语言。</p>
</li>
<li><p>SQL就是专门用来操作数据库的</p>
</li>
<li><p>SQL语言是一个标准。由一个规范组织提出和维护的。</p>
</li>
<li><p>基本上关系型的数据库都支持sql语言<br>###3.2学习sql的网站<br><code>http://www.w3school.com.cn/sql/index.asp</code></p>
</li>
</ul>
<p><code>http://www.runoob.com/sql/sql-syntax.html</code></p>
<p>###3.3 增删改查 CRUD<br>CRUD是Create(创建)、Read(读取)、Update(更新)和Delete(删除)<br>对于我们的web网站的后台其实就是对数据的增删改查操作。</p>
<p>###3.3 insert</p>
<p>INSERT INTO 表名称 VALUES (值1, 值2,….)</p>
<p>我们也可以指定所要插入数据的列：<br>INSERT INTO table_name (列1, 列2,…) VALUES (值1, 值2,….)<br>使用INSERT语句向employee表中插入三个员工信息。<br>注意：<br>    values中的值必须与表中的字段一一对应。<br>    插入的数据应与字段中的数据类型相同<br>    数据的大小应该在列的规定范围内，例如不能将一个长度为80的字符串插入到长度为40个列中<br>    字符和日期型数据应该包含在单引号中<br>    如果要插入一个空值，不指定或者使用NULL</p>
<p>###3.4 update<br>UPDATE 表名称 SET 列名称 = 新值 WHERE 列名称 = 某值<br>练习：</p>
<ol>
<li>将所有员工薪水改为10元</li>
<li>将姓名为’张飞’的员工薪水修改为3000元</li>
<li>将姓名为’李四’的员工薪水修改为4000元，job改为CEO</li>
<li>将‘赵云’的薪水在原有基础上增加1000元</li>
</ol>
<p>总结：<br>    UPDATE语句可以用新值更新原有表中行的列。<br>    SET字句指定要修改哪些列和要给与哪些值<br>    WHERE需要给定一个条件，表示要更新符号该条件的行，没有WHERE字句，则更新所有行</p>
<p>###3.5 delete<br>DELETE FROM 表名称 WHERE 列名称 = 值</p>
<p>练习:</p>
<ol>
<li>删除employee表中名称叫‘张飞’的记录</li>
<li>删除表中所有记录<br>总结：<br>如果不使用WHERE语句，将删除表中所有数据<br>DELETE不能删除某一列的值，（可使用UPDATE）<br>使用DELETE语句仅仅删除记录，不删除表本身，如果要删除表，使用DROP TABLE语句</li>
</ol>
<p>###3.6 select<br>SQL SELECT 语法<br>SELECT 列名称 FROM 表名称<br>以及：<br>SELECT * FROM 表名称<br>练习：</p>
<p>创建一张学生信息表student 并插入信息，SQL执行语句如下：<br>CREATE TABLE student(<br>    id INT PRIMARY KEY auto_increment,<br>    name VARCHAR(20) NOT NULL,<br>    chinese DOUBLE,<br>    math DOUBLE,<br>    english DOUBLE<br>);<br>INSERT INTO student VALUES(NULL,’关羽’,85,76,70);<br>INSERT INTO student VALUES(NULL,’关羽’,85,76,70);<br>INSERT INTO student VALUES(NULL,’关羽’,85,76,70);<br>在所有学生分数上加10分特长分显示<br>select name,chinese+10,math+10,english+10 from stuent;<br>统计每个学生的总分<br>select name,chinese+math+english from student;<br>使用别名表示学生总分<br>select name as 姓名,chinese+math+english as 总成绩 from student</p>
<p>###3.7 where 带条件的查询<br>SELECT * FROM table_name WHERE expr;</p>
<p>练习：<br>    查询姓名为XXX的学生<br>    查询英语成绩大于90分的同学<br>    查询总分大于200分的所有同学</p>
<p>在WHERE字句中经常使用的运算符</p>
<p>比较运算符    &gt; &lt; &lt;= &gt;= = &lt;&gt;    大于、小于、大于(小于等于)、不等于<br>    BETWEEN…AND    显示在某一区间的值<br>    IN(set)    显示在in列表中的值，例：in(100,200)<br>    LIKE ‘张pattern’    模糊查询%<br>    IS NULL    判断是否为空</p>
<p>逻辑运算发    AND    多个条件同时成立<br>    OR    多个条件任一成立<br>    NOT    不成立，例：WHERE NOT(salary&gt;100)</p>
<p>LIKE语句中，%代表零个或多个任意字符，&gt;_代表一个字符，例如：name LIKE ‘_a%’;</p>
<p>练习：<br>    查询英语成绩分数在 80-100之间的同学<br>    查询数学分数为75,76，77的同学<br>    查询所有性张的学生成绩<br>    查询数学分大于70，语文分数大于80的同学</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/19/16{node进阶app路由匹配express介绍_中间件}/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Robert">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/19/16{node进阶app路由匹配express介绍_中间件}/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T22:33:43+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p> title: node 入门09<br> date: 2016-10-14 22:00:00</p>
<h2 id="tags-node"><a href="#tags-node" class="headerlink" title=" tags: node"></a> tags: node</h2><p>###1.3mvc</p>
<p>MVC是一种设计思想，它是所有面向对象程序设计语言都应该遵守的规范。<br>MVC思想讲一个应用分成三个基本部分：Model(模型),View（视图）<br>,Controller（控制器），这三个部分以最少的耦合协同工作，<br>从而提高应用的可扩展性及可维护性。<br>大部分web技术的框架基本都属于mvc结构的，包括java、.net、node等。</p>
<h1 id="2-express"><a href="#2-express" class="headerlink" title="2.express"></a>2.express</h1><p>npm install express –save<br>npm i -S express</p>
<p>npm install express –save-dev<br>npm i -D express<br>脚手架工具的安装<br>npm install -g  express-generator</p>
<p>###2.1为什么使用框架？</p>
<ul>
<li>app.use(express.static(path.join(__dirname, ‘public’)));</li>
<li>原生Node开发，会发现很多问题。比如：<ul>
<li>呈递静态页面很不方便，需要处理每个HTTP请求</li>
<li>路由处理不直观清晰,需要写很多字符串判断和正则表达式</li>
<li>不能集中精力写业务，要考虑很多其它的东西</li>
</ul>
</li>
<li>Express框架致力于解决上述问题。</li>
<li>例如,jQuery,简化了dom操作，让我们的关注点从如何去操作dom转变成具体我们要操作dom去干什么。<br>###2.2 express介绍</li>
<li>express 中文官网<a href="http://www.expressjs.com.cn/" target="_blank" rel="external">http://www.expressjs.com.cn/</a></li>
<li>Express是目前最流行的基于Node.js的Web开发框架，提供各种模块，可以快速地搭建一个具有完整功能的网站。</li>
<li>Express有着惊艳的路由能力</li>
<li>Express中静态资源服务，就是一句话的事儿</li>
<li>Express与模板引擎配合，直观清晰。<br>###2.3 路由<br>路由器，是告知请求者，所请求的ip在哪里，并且把信息发送过去。<br>web框架的路由，是告知框架，所请求的http参数应该调用的模块、类、方法在哪里，把请求发送过去。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// GET method route</span></div><div class="line">app.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.end(<span class="string">'GET request to the homepage'</span>);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// POST method route</span></div><div class="line">app.post(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.end(<span class="string">'POST request to the homepage'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>通过模糊匹配路由</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// 匹配 acd 和 abcd</span></div><div class="line">app.get(<span class="string">'/ab?cd'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'ab?cd'</span>);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// 匹配 abcd、abbcd、abbbcd等 匹配n个加号前的字母</span></div><div class="line">app.get(<span class="string">'/ab+cd'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'ab+cd'</span>);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// 匹配 abcd、abxcd、abRABDOMcd、ab123cd等 *代表任意</span></div><div class="line">app.get(<span class="string">'/ab*cd'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'ab*cd'</span>);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// 匹配 /abe 和 /abcde</span></div><div class="line">app.get(<span class="string">'/ab(cd)?e'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line"> res.send(<span class="string">'ab(cd)?e'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ul>
<li>通过正则表达匹配路由</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">// 匹配任何路径中含有 a 的路径：</span></div><div class="line">app.get(<span class="regexp">/a/</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'/a/'</span>);</div><div class="line">&#125;);</div><div class="line"><span class="comment">// 匹配 butterfly、dragonfly，不匹配 butterflyman、dragonfly man等</span></div><div class="line">app.get(<span class="regexp">/.*fly$/</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">  res.send(<span class="string">'/.*fly$/'</span>);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="2-4-中间件"><a href="#2-4-中间件" class="headerlink" title="2.4 中间件"></a>2.4 中间件</h3><h3 id="2-4-1-什么是中间件？"><a href="#2-4-1-什么是中间件？" class="headerlink" title="2.4.1 什么是中间件？"></a>2.4.1 什么是中间件？</h3><ul>
<li><p>Express 是一个自身功能极简，完全是由路由和中间件构成一个的 web 开发框架：从本质上来说，一个 Express 应用就是在调用各种中间件。<br>中间件（Middleware）是一个函数，它可以访问请求对象（request object (req)）, 响应对象（response object (res)）, 和 web 应用中处于请求-响应循环流程中的中间件，一般被命名为 next 的变量。</p>
</li>
<li><p>往往一个http请求发送到服务器，都需要通过很多的判断和处理。<br>一个请求发送过来—-&gt;用户是否已经登录—-&gt;用户请求的是什么资源(静态资源、动态页面、json数据)—-&gt;统计一下用户的请求—&gt;(如果请求的内容不存在)返回404</p>
</li>
<li><p>中间件的功能包括：<br>执行任何代码。<br>修改请求和响应对象。<br>终结请求-响应循环。<br>调用堆栈中的下一个中间件。<br>如果当前中间件没有终结请求-响应循环，则必须调用 next() 方法将控制权交给下一个中间件，否则请求就会挂起。</p>
</li>
</ul>
<h3 id="2-4-2-中间件种类"><a href="#2-4-2-中间件种类" class="headerlink" title="2.4.2 中间件种类"></a>2.4.2 中间件种类</h3><ul>
<li>Express 应用可使用如下几种中间件：<ul>
<li>内置中间件</li>
<li>第三方中间件</li>
<li>错误处理中间件</li>
<li>应用级中间件</li>
<li>路由级中间件</li>
</ul>
</li>
</ul>
<h3 id="2-4-3-内置中间件"><a href="#2-4-3-内置中间件" class="headerlink" title="2.4.3 内置中间件"></a>2.4.3 内置中间件</h3><ul>
<li>介绍<br>从 4.x 版本开始，express取消了大部分的内置中间件，除了 express.static, Express 以前内置的中间件现在已经全部单独作为模块安装使用了</li>
<li>为什么只留一个中间件<br>让express只留一个框，轻量、灵活、便于修改。</li>
</ul>
<h3 id="2-4-4-使用中间件"><a href="#2-4-4-使用中间件" class="headerlink" title="2.4.4 使用中间件"></a>2.4.4 使用中间件</h3><ul>
<li>挂载中间件<br>app.use([path],function)</li>
<li>回调函数中的参数<br>req, res, next<br>next是一个方法，被调用后，继续走下一个中间件。</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/19/15{node进阶编写node脚本_命令行工具_创建http工具_gulp}/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Robert">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/19/15{node进阶编写node脚本_命令行工具_创建http工具_gulp}/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T22:33:43+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p> title: node 入门08<br> date: 2016-10-08 22:00:00</p>
<h2 id="tags-node"><a href="#tags-node" class="headerlink" title=" tags: node"></a> tags: node</h2><h3 id="1-2-http协议"><a href="#1-2-http协议" class="headerlink" title="1.2 http协议"></a>1.2 http协议</h3><h3 id="1-3session-amp-cookie"><a href="#1-3session-amp-cookie" class="headerlink" title="1.3session&amp;cookie"></a>1.3session&amp;cookie</h3><h3 id="1-4-工具的使用"><a href="#1-4-工具的使用" class="headerlink" title="1.4 工具的使用"></a>1.4 工具的使用</h3><h3 id="通过-nodemon-实现-保存文件实时重启"><a href="#通过-nodemon-实现-保存文件实时重启" class="headerlink" title="通过 nodemon 实现 保存文件实时重启"></a>通过 nodemon 实现 保存文件实时重启</h3><ol>
<li>安装nodemon <code>npm install -g nodemon</code></li>
<li>基本使用 <code>nodemon server.js</code></li>
</ol>
<p>只要执行了上面的命令，那么当你修改了 server.js 那么nodemon会帮你自动重启 server</p>
<p>###2.1 使用npm命令执行代码<br>1.package.json里面配置scripts属性里面写npm的命令<br>2.npm的命令在控制台直接npm打印出来可以查看<br>3.npm命令后面接的是具体的命令，打npm命令调用具体的命令</p>
<p>###2.2编写node脚本<br>1.把js代码变成node脚本<br>在要执行的js文件当中加入下面这句话，是固定写法</p>
<p>#!/usr/bin/env node</p>
<p>2.package.json里面配置bin属性里面写命令,这个命令的名称是可以自定义的</p>
<p>3.必须打npm link这个命令，把当前包安装到全局去</p>
<p>###2.3通过命令调用脚本</p>
<h2 id="http-模块"><a href="#http-模块" class="headerlink" title="http 模块"></a>http 模块</h2><h3 id="使用-http-模块进行web开发"><a href="#使用-http-模块进行web开发" class="headerlink" title="使用 http 模块进行web开发"></a>使用 http 模块进行web开发</h3><ul>
<li>创建 HTTP 服务器</li>
</ul>
<p><code>http.createServer([requestListener])</code></p>
<ul>
<li><p>通过监听Event: ‘request’来进行<br>server.on(‘request’,(request,response) =&gt; {});</p>
</li>
<li><p>request、response对象<br>request对象，用于接收请求报文内的信息<br>response对象，用于返回响应报文内的信息</p>
</li>
<li><p>response.write()<br>write方法用于向响应体里写内容，用于向客户端发送信息，可以被多次使用</p>
</li>
<li><p>response.end()<br>在一次请求和响应过程当中，只要调用了  end 就不能再继续 write 了<br>就说明你是在一次请求和响应处理过程中已经结束了响应，但是又去 向客户端发送数据<br>这个时候就会报错</p>
</li>
<li><p>server.listen(port[, hostname][, backlog][, callback])<br>监听端口，执行这句，服务正式被启动使用<br>server.listen(3000,’127.0.0.1’,() =&gt; {<br>console.log(‘server is listening at port 3000’);<br>});</p>
</li>
</ul>
<h3 id="request"><a href="#request" class="headerlink" title="request"></a>request</h3><ul>
<li>request.headers 请求头</li>
<li>request.method 请求方法</li>
<li>request.url 请求路径</li>
<li>request.httpVersion 请求HTTP协议版本</li>
</ul>
<h3 id="response"><a href="#response" class="headerlink" title="response"></a>response</h3><ul>
<li>res.writeHead(200,{‘Content-Type’: ‘text/html; charset=utf-8’});<br>设置响应报文头</li>
<li>res.write(‘<h1>hello world</h1>‘);</li>
<li>res.end();</li>
</ul>
<h3 id="Content-Type"><a href="#Content-Type" class="headerlink" title="Content-Type"></a>Content-Type</h3><p>内容类型，一般是指网页中存在的Content-Type，用于定义网络文件的类型和网页的编码，<br>决定文件接收方将以什么形式、什么编码读取这个文</p>
<h3 id="通过-req-url和req-method的不同给出不同的响应"><a href="#通过-req-url和req-method的不同给出不同的响应" class="headerlink" title="通过 req.url和req.method的不同给出不同的响应"></a>通过 req.url和req.method的不同给出不同的响应</h3><p>  if (req.url == ‘/‘ &amp;&amp; req.method == ‘GET’) {<br>    res.writeHead(200, {<br>      ‘Content-Type’: ‘text/html; charset=utf-8’<br>    });<br>    res.write(‘</p><h1>首页</h1>‘);<br>    res.end();<br>  }<p></p>
<h3 id="request通过data事件和end事件来接收post的数据"><a href="#request通过data事件和end事件来接收post的数据" class="headerlink" title="request通过data事件和end事件来接收post的数据"></a>request通过data事件和end事件来接收post的数据</h3><p>let data = ‘’;<br>req.on(‘data’, (chunk) =&gt; {<br>      data += chunk;<br>});<br> req.on(‘end’, () =&gt; {<br>      console.log(data);<br>      res.writeHead(200, {<br>        ‘Content-Type’: ‘text/html; charset=utf-8’<br>      });<br>      res.write(‘</p><h1>收到数据了</h1>‘);<br>      res.end();<br> });<p></p>
<h3 id="通过-querystring解析post的数据"><a href="#通过-querystring解析post的数据" class="headerlink" title="通过 querystring解析post的数据"></a>通过 querystring解析post的数据</h3><p>querystring.parse(‘foo=bar&amp;baz=qux&amp;baz=quux&amp;corge’)<br>// returns { foo: ‘bar’, baz: [‘qux’, ‘quux’], corge: ‘’ }</p>
<h3 id="url"><a href="#url" class="headerlink" title="url"></a>url</h3><ul>
<li>url.parse(urlStr, [parseQueryString], [slashesDenoteHost])<br>urlStr-&gt;url字符串<br>parseQueryString-&gt;为true时将使用queryString分析查询字符串，默认为false<br>slashesDenoteHost<br>默认为false，//foo/bar 形式的字符串将被解释成 { pathname: ‘//foo/bar’ }<br>如果设置成true，//foo/bar 形式的字符串将被解释成  { host: ‘foo’, pathname: ‘/bar’ }</li>
</ul>
<p>服务器相关操作事件和API</p>
<ul>
<li>Event: ‘close’</li>
<li>Event: ‘connection’</li>
<li>Event: ‘request’</li>
<li>server.close([callback])</li>
<li>server.listen(port[, hostname][, backlog][, callback])</li>
</ul>
<p>请求对象</p>
<ul>
<li>Event: ‘data’</li>
<li>message.headers</li>
<li>message.httpVersion</li>
<li>message.method</li>
<li>message.url<ul>
<li>require(‘url’).parse(request.url)</li>
<li>require(‘url’).parse(request.url, true)</li>
</ul>
</li>
</ul>
<p>响应对象</p>
<ul>
<li>response.end([data][, encoding][, callback])</li>
<li>response.setHeader(name, value)</li>
<li>response.statusCode</li>
<li>response.statusMessage</li>
<li>response.write(chunk[, encoding][, callback])</li>
<li>response.writeHead(statusCode[, statusMessage][, headers])</li>
</ul>
<h2 id="gulp"><a href="#gulp" class="headerlink" title="gulp"></a>gulp</h2><p>  <a href="http://www.gulpjs.com" target="_blank" rel="external">官网</a><br>  <a href="http://www.gulpjs.com.cn" target="_blank" rel="external">中文网</a></p>
<ul>
<li><p>前端自动化构建工具<br>js压缩,var x,xname，混淆<br>合并.<br>css压缩<br>html压压缩</p>
</li>
<li><p>grunt ,webpack…</p>
</li>
</ul>
<h3 id="核心就5个方法"><a href="#核心就5个方法" class="headerlink" title="核心就5个方法"></a>核心就5个方法</h3><ul>
<li>task,gulp中是一个个任务的形式来实现功能。<ul>
<li>task(‘任务名’,function(){<br>…..<br>});</li>
</ul>
</li>
<li>src<ul>
<li>src(‘./*.js’)</li>
</ul>
</li>
<li>dest(‘./minjs/‘)// 指定处理后的文件的输出路径.</li>
<li>watch(‘./*.js’,[‘任务名1’,’任务名2’]);</li>
<li>run(‘任务名’);//执行指定的任务.</li>
</ul>
<h3 id="gulp的安装"><a href="#gulp的安装" class="headerlink" title="gulp的安装"></a>gulp的安装</h3><ul>
<li>使用npm 进行安装</li>
<li><code>npm install gulp-cli -g</code>;</li>
</ul>
<h3 id="gulp-使用"><a href="#gulp-使用" class="headerlink" title="gulp 使用"></a>gulp 使用</h3><h4 id="使用时还需要在项目中通过npm非全局安装gulp"><a href="#使用时还需要在项目中通过npm非全局安装gulp" class="headerlink" title="使用时还需要在项目中通过npm非全局安装gulp"></a>使用时还需要在项目中通过npm非全局安装gulp</h4><ul>
<li><code>npm install gulp --save-dev</code></li>
</ul>
<h4 id="还需要在当前项目根目录添加一个gulpfile-js文件来写具体的任务代码"><a href="#还需要在当前项目根目录添加一个gulpfile-js文件来写具体的任务代码" class="headerlink" title="还需要在当前项目根目录添加一个gulpfile.js文件来写具体的任务代码."></a>还需要在当前项目根目录添加一个gulpfile.js文件来写具体的任务代码.</h4><h3 id="gulp的一些插件"><a href="#gulp的一些插件" class="headerlink" title="gulp的一些插件"></a>gulp的一些插件</h3><ul>
<li>也是使用npm安装</li>
<li>对js代码进行压缩 gulp-uglify</li>
<li>对代码进行合并 gulp-concat</li>
<li>对css进行压缩 gulp-cssnano</li>
<li>对html进行压缩 gulp-htmlmin</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/19/14{node入门服务器_Nginx_http协议_nodemon使用}/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Robert">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/19/14{node入门服务器_Nginx_http协议_nodemon使用}/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T22:33:43+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p> title: node 入门07<br> date: 2016-10-07 22:00:00</p>
<h2 id="tags-node"><a href="#tags-node" class="headerlink" title=" tags: node"></a> tags: node</h2><h3 id="1-1node的调试"><a href="#1-1node的调试" class="headerlink" title="1.1node的调试"></a>1.1node的调试</h3><ul>
<li>前两样调试用于面试</li>
<li>node自带的debug调试命令 n下一步 s步入 o步出</li>
<li>node-debug foo.js node-inspector</li>
<li>vsc 推荐使用</li>
<li>vsc launch.json</li>
<li>抽风式的好使</li>
<li>ws<h3 id="1-2-es6"><a href="#1-2-es6" class="headerlink" title="1.2 es6"></a>1.2 es6</h3></li>
<li>用es新特性之前加上严格模式</li>
<li>什么是es？</li>
<li>为什么用es的新标准？</li>
<li>为什么前端不用，node要用？<br>es6定义了一个标准—-&gt;let命令—-&gt;js代码里面写了let—-&gt;v8引擎解析，能解析说明支持了es6里的let命令—-&gt;node升级了</li>
<li>严格模式</li>
<li>let </li>
<li>const</li>
<li><p>块级作用域{}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"> let foo =456;</div><div class="line">&#123;</div><div class="line">  let foo =123;</div><div class="line">&#125;</div><div class="line">console.log(foo);</div></pre></td></tr></table></figure>
</li>
<li><p>字符串的扩展  includes(str) startsWith(str) endsWith(str) repeat(num) <code>${变量名}</code><br><code>var bar=&#39;test&#39;</code><br><code>var foo=&#39;123&#39;+&#39;stts&#39;+bar+&#39;test&#39;;</code><br><code>var foo2=test${bar}test</code> </p>
</li>
<li>箭头函数、</li>
<li>let const 箭头函数 用来看api使用<h3 id="1-3-buffer"><a href="#1-3-buffer" class="headerlink" title="1.3 buffer"></a>1.3 buffer</h3></li>
<li>创建Buffer</li>
<li>Buffer的一些属性和方法</li>
<li>Buffer的一些属性和方法<ul>
<li>buf[index] 通过下标访问 buffer 的某个字节的数据</li>
<li>buf.indexOf(value,[byteOffset],[encoding]) 查找某个字符在 buffer 内存中的字节下标</li>
<li>buf.includes(value,[byteOffset],[encoding])</li>
<li>buf.length</li>
<li>buf.slice([start,[end]])</li>
<li>buf.toString([encoding],[start], [end])</li>
<li>buf.write(string,[offset],[length],[encoding])<h3 id="1-4-文件流"><a href="#1-4-文件流" class="headerlink" title="1.4 文件流"></a>1.4 文件流</h3></li>
</ul>
</li>
<li>流对象 stream</li>
<li>pipe（）<h2 id="2-网络编程"><a href="#2-网络编程" class="headerlink" title="2.网络编程"></a>2.网络编程</h2></li>
</ul>
<p>网络编程 是指<strong>编写程序使两台联网的计算机可以完成网络数据交互，完成网络通信。</strong><br>注意：这里的计算机泛指可以上网的设备，比如PC、手机、服务器、智能电视等等。</p>
<p>强调：网络编程重在思想，node只是一个可以帮助我们网络编程的一个工具而已。<br>使用其他编程语言或者操作系统进行网络编程，思想都是一样的。</p>
<h3 id="什么是服务器？"><a href="#什么是服务器？" class="headerlink" title="什么是服务器？"></a>什么是服务器？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">服务器就是一个台电脑，是一台性能比较好的大电脑，它需要支持高扩展性，提供服务的</div><div class="line">服务器一旦部署好服务后，一般动的比较少，linux系统比较常用，不需要比较复杂的可视化操作界面，因为复杂的可视化操作系统比较耗资源，如win10，和windows相比linux比较安全</div><div class="line">服务器用linux的centos，ubuntu是有桌面版的</div><div class="line">服务器多用centos</div></pre></td></tr></table></figure>
<h3 id="什么是应用服务器？"><a href="#什么是应用服务器？" class="headerlink" title="什么是应用服务器？"></a>什么是应用服务器？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">作为服务器执行共享业务应用程序的底层的系统软件</div></pre></td></tr></table></figure>
<h3 id="什么是web服务器？"><a href="#什么是web服务器？" class="headerlink" title="什么是web服务器？"></a>什么是web服务器？</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">web服务器是一种应用服务器，提供了web服务，对内提供web应用程序的的运行环境</div></pre></td></tr></table></figure>
<p>Apache、Nginx、IIS、tomcat</p>
<h3 id="Node-没有-Web-容器"><a href="#Node-没有-Web-容器" class="headerlink" title="Node 没有 Web 容器"></a>Node 没有 Web 容器</h3><p>如果我用js写了一个web应用程序，那么node就是web服务器<br>.net平台的 ASP或者ASP.net 需要 IIS 作为服务器容器，<br>PHP需要搭载 Apache 或者 Nginx 作为服务器容器，<br>Java 的 JSP 需要 tomcat 作为服务器容器，<br>ruby 的 ruby on rails 需要 搭配 Apache 等作为自己的服务器容器。。。</p>
<p>Node，不需要服务器容器。</p>
<h3 id="为什么叫-Node"><a href="#为什么叫-Node" class="headerlink" title="为什么叫 Node"></a>为什么叫 Node</h3><p>Node是一个面向网络而生的平台。</p>
<p>Ryan Dahl 在创建Node项目的时候给它起了一个名字叫做 web.js ，就是一个Web服务器。<br>类似于 Apache、tomcat、IIS 等服务器软件。</p>
<p>web.js 的发展超出了作者的最初想法，变成了构建网络应用的一个基础平台。<br>然后就可以在这个基础平台之上构建很多东西，比如服务器、客户端、各种各样的命令行工具等。</p>
<p>Node的目标就是成为一个构建快速、可伸缩的网络应用平台。</p>
<p>每一个Node进程构成网络应用中的一个节点。这就是 Node 的含义。</p>
<h3 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h3><p>代理，委托一个人帮我去做事情，上网代理，就是我上网的时候如果上网被墙了，我可以用代理帮我们去上网。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">nginx除了是个web服务器还能够做反向代理服务器，</div><div class="line">反向代理服务器的作用，可以用来做负载均衡</div><div class="line">代理，委托一个人帮我去做事情，上网代理，就是我上网的时候如果上网被墙了，我可以用代理帮我们去上网。</div></pre></td></tr></table></figure></p>
<ul>
<li>可以用nginx来做负载均衡<h3 id="跨域的场景"><a href="#跨域的场景" class="headerlink" title="跨域的场景"></a>跨域的场景</h3>1.域名不同 （www.wuyou.com 和www.liuxi.com 即为不同的域名）<br>2.二级域名相同，子域名不同    （www.wuyou.wu.com www.liuxi.wu.com 为子域不同）<br>3.端口不同，协议不同  （ <a href="http://www.wuyou.com" target="_blank" rel="external">http://www.wuyou.com</a> 和<a href="https://www.wuyou.com属于跨域www.wuyou.con:8888和www.wuyou.con:8080" target="_blank" rel="external">https://www.wuyou.com属于跨域www.wuyou.con:8888和www.wuyou.con:8080</a>)</li>
</ul>
<h3 id="协议"><a href="#协议" class="headerlink" title="协议"></a>协议</h3><ul>
<li>双方或多方同意，并且达成共识，遵守这样的约束<h3 id="url"><a href="#url" class="headerlink" title="url"></a>url</h3><h3 id="端口号"><a href="#端口号" class="headerlink" title="端口号"></a>端口号</h3></li>
</ul>
<p>ip能够定位电脑，端口号可以定位一个应用程序<br>node 默认是3000 多了往上加</p>
<h2 id="2-http协议"><a href="#2-http协议" class="headerlink" title="2 http协议"></a>2 http协议</h2><h3 id="2-1在地址栏输入网址后页面是如何呈现的？"><a href="#2-1在地址栏输入网址后页面是如何呈现的？" class="headerlink" title="2.1在地址栏输入网址后页面是如何呈现的？"></a>2.1在地址栏输入网址后页面是如何呈现的？</h3><ul>
<li>DNS 把域名转化成ip DNS服务器来做这个事情 运营商提供的dns服务器</li>
<li><p>CDN 内容分发网络</p>
</li>
<li><p>输入 URL：<a href="http://www.baidu.com" target="_blank" rel="external">http://www.baidu.com</a></p>
</li>
<li>DNS 域名解析<ul>
<li>计算机无法识别域名，计算机与计算机之间要想进行通信，必须通过ip地址用来定位该计算机所在的位置</li>
<li>在浏览器中，输入的ip地址或者域名，默认给你加了一个80端口号（对方的服务器监听的就是80端口）</li>
<li>158.12.25.652  域名就是为了好记</li>
<li>为了好记，所以我们的 万维网提供了 一个 域名这样的概念</li>
<li>当你输入了 ip 地址后，浏览器会自动去 找DNS域名解析服务器，</li>
</ul>
</li>
<li>将用户输入的地址封装成 HTTP Request 请求报文 发送到服务器<ul>
<li>浏览器将用户输入的 URL 地址根据HTTP协议 封装成了  http 请求报文（请求头+请求行+请求体）</li>
<li>该报文说白了也就是字符串而已，最终也要被转成了二进制数据再发送到服务器</li>
</ul>
</li>
<li>后台服务器接收到用户HTTP Request 请求报文<ul>
<li>后台服务器接收到 客户端发送给自己的数据（二进制数据）<ul>
<li>首先把二进制数据按照编码解析成字符，（人类可以识别的）</li>
<li>解析成字符之后，再按照 HTTP 协议规范中定义的格式解析出来</li>
</ul>
</li>
</ul>
</li>
<li>后台服务器处理用户请求信息<ul>
<li>当得到用户请求报文之后，根据请求报文中的 get、port或者 URL、或者URL中的查询字符串或者 请求体中的数据</li>
<li>根据用户的特定的请求数据做特定的处理</li>
</ul>
</li>
<li>后台服务器将相应结果封装到 HTTP Response 响应报文中 发送给客户端<ul>
<li>当我们解析和处理完用户请求报文消息之后</li>
<li>服务器开始将具体的 要发送给客户端的数据 根据 HTTP 协议规范 封装成 HTTP协议响应报文</li>
<li>响应头、响应字段、响应体</li>
<li>该数据说白了也是具有特定格式的字符串而已，最终这个字符串也要转换成二进制数据发送到客户端</li>
<li>发送到客户端也是通过 Socket（ip地址、端口号） 发送到了该客户单</li>
</ul>
</li>
<li>用户浏览器接收到响应后开始渲染html、css，解析和执行 JavaScript 代码<ul>
<li>当客户端解析到 服务器发送过来的 二进制数据</li>
<li>客户端浏览器也会将 二进制数据 根据编码类型解析成 字符串</li>
<li>然后根据 HTTP 协议，解析服务器发送过来的 响应报文</li>
<li>然后根据响应报文中的报文内容（报文头、报文体）做具体的解析</li>
</ul>
</li>
<li>当浏览器在解析的过程中遇到 一些静态资源时，会再次重复上面的步骤<h3 id="2-2HTTP协议"><a href="#2-2HTTP协议" class="headerlink" title="2.2HTTP协议"></a>2.2HTTP协议</h3>HTTP协议就是 浏览器 和 服务器 之间通信的一个数据格式规范</li>
</ul>
<p>在HTTP协议中，始终是以一种 一问一答 的形式在进行沟通和交流（数据交换）</p>
<p>服务器如果没有收到浏览器的请求消息，服务器永远不会主动的发送响应消息</p>
<p>浏览器不发出请求，服务器不会主动的发送响应</p>
<ul>
<li>浏览器发送请求数据到服务器</li>
<li>服务器解析浏览器发送的请求数据</li>
<li>服务器响应数据到客户端浏览器</li>
</ul>
<h3 id="2-3cookie-amp-session"><a href="#2-3cookie-amp-session" class="headerlink" title="2.3cookie&amp;session"></a>2.3cookie&amp;session</h3><ul>
<li>http是一个无状态的协议，每次去请求服务器的时候，服务器是不能记住客户端的</li>
<li>cookie 信物，客户端请求服务器了以后，服务器给客户端一个信物，下次客户端再请求服务器的时候，给服务器这个信物<pre><code>服务器就知道是哪个客户端了
缺点是，不能存储太多内容、不安全
</code></pre></li>
<li>session 存储在服务器端的，保存着用户信息的，和cookie搭配来使用，可以用cookie里面的key对应上session里面的值<pre><code>session可以存在内存或硬盘上都可以。
</code></pre><h3 id="2-4前后端分离"><a href="#2-4前后端分离" class="headerlink" title="2.4前后端分离"></a>2.4前后端分离</h3></li>
</ul>
<h3 id="2-5"><a href="#2-5" class="headerlink" title="2.5"></a>2.5</h3><h2 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a>常用工具</h2><h3 id="通过-nodemon-实现-保存文件实时重启"><a href="#通过-nodemon-实现-保存文件实时重启" class="headerlink" title="通过 nodemon 实现 保存文件实时重启"></a>通过 nodemon 实现 保存文件实时重启</h3><ol>
<li>安装nodemon <code>npm install -g nodemon</code></li>
<li>基本使用 <code>nodemon server.js</code></li>
</ol>
<p>只要执行了上面的命令，那么当你修改了 server.js 那么nodemon会帮你自动重启 server</p>
<h3 id="pm2"><a href="#pm2" class="headerlink" title="pm2"></a>pm2</h3><p>pm2 帮你重启node应用的</p>
<h3 id=""><a href="#" class="headerlink" title=" "></a> </h3><ul>
<li>loaclhost</li>
<li>127.0.0.1</li>
<li>ip地址 </li>
</ul>
<h2 id="http模块"><a href="#http模块" class="headerlink" title="http模块"></a>http模块</h2><p><code>res.writeHead(200,{&quot;Content-Type&quot;:&quot;text/html;charset=utf-8&quot;});</code></p>
<ul>
<li>监听请求</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">//严格模式</div><div class="line">&apos;use strict&apos;</div><div class="line">//定义常量</div><div class="line">const http=require(&quot;http&quot;);</div><div class="line">//创建一个服务器</div><div class="line">const server=http.createServer();</div><div class="line">//监听request事件，如果有请求进来了，就触发这个事件，然后就执行后面的回调函数</div><div class="line">server.on(&apos;request&apos;,(request,response) =&gt; &#123;</div><div class="line">     //在响应报文的报文体中写内容</div><div class="line">     //write方法可以写多次</div><div class="line">     response.write(&quot;hello&quot;);</div><div class="line">      // response.writeHead(200,);</div><div class="line">     response.write(&quot;world&quot;);</div><div class="line">     //end方法把报文扔回去</div><div class="line">     response.end(&quot;12312~~~~~~~~~~~囧囧囧！！！！&quot;);</div><div class="line">&#125;);</div><div class="line">//localhost直接从浏览器就找到这个地址、找这个应用</div><div class="line">//127.0.0.1需要过一下网卡</div><div class="line">//ip地址需要过一下网络中的其他设备</div><div class="line"></div><div class="line">//监听端口号</div><div class="line">server.listen(3000);</div></pre></td></tr></table></figure>
<ul>
<li>监听post请求</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line">&apos;use strict&apos;</div><div class="line">//http模块</div><div class="line">const http=require(&quot;http&quot;);</div><div class="line">//querystring模块，格式化post传过来的数据foo=123&amp;bar=456</div><div class="line">//格式化成&#123; foo: &apos;123&apos;, bar: &apos;456&apos; &#125;</div><div class="line">const querystring = require(&apos;querystring&apos;);</div><div class="line">//创建服务</div><div class="line">const server=http.createServer();</div><div class="line">//监听request事件</div><div class="line">server.on(&apos;request&apos;,(req,res) =&gt; &#123;</div><div class="line">  //判断路径判断方法</div><div class="line">     if (req.url == &apos;/&apos; &amp;&amp; req.method == &apos;POST&apos;) &#123;</div><div class="line">         var data=&apos;&apos;;</div><div class="line">         //req是读文件流对象，所以有data\end事件</div><div class="line">        req.on(&apos;data&apos;,function(chunk)&#123;</div><div class="line">          data=data+chunk;</div><div class="line">        &#125;);</div><div class="line">        req.on(&apos;end&apos;,function()&#123;</div><div class="line">                console.log(data);</div><div class="line">                //querystring.parse转化成json对象</div><div class="line">                var dataObj=querystring.parse(data);</div><div class="line">                console.log(dataObj);</div><div class="line">        &#125;);</div><div class="line">     res.writeHead(200, &#123;</div><div class="line">        &apos;Content-Type&apos;: &apos;text/html; charset=utf-8&apos;</div><div class="line">      &#125;);</div><div class="line">      res.write(&quot;&#123;&apos;success&apos;:&apos;true&apos;&#125;&quot;);</div><div class="line">      res.end();</div><div class="line">  &#125;</div><div class="line">&#125;);</div><div class="line">server.listen(3000);</div></pre></td></tr></table></figure>
<h3 id="url-1"><a href="#url-1" class="headerlink" title="url"></a>url</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const url=require(&apos;url&apos;);</div><div class="line">var urlObj=url.parse(req.url,true);</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/19/13{node入门同步异步node调试es6语法let箭头函数}/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Robert">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/19/13{node入门同步异步node调试es6语法let箭头函数}/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T22:33:43+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p> title: node 入门06<br> date: 2016-10-06 22:00:00</p>
<h2 id="tags-node"><a href="#tags-node" class="headerlink" title=" tags: node"></a> tags: node</h2><h1 id="es6"><a href="#es6" class="headerlink" title="es6"></a>es6</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">js---&gt;浏览器--&gt;引擎执行js代码</div><div class="line">ie ff chrome</div><div class="line">node----&gt;v8执行js代码</div><div class="line">node 不考虑兼容性，es6能给我们带来很多好处。</div><div class="line">Node.js 6覆盖了93%的ECMAScript 6</div></pre></td></tr></table></figure>
<ul>
<li><a href="http://es6.ruanyifeng.com/#README" target="_blank" rel="external">阮一峰es6入门</a><br>###3.4 use strict严格模式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">消除Javascript语法的一些不合理、不严谨之处，减少一些怪异行为;</div><div class="line">　　- 消除代码运行的一些不安全之处，保证代码运行的安全；</div><div class="line">　　- 提高编译器效率，增加运行速度；</div><div class="line">　　- 为未来新版本的Javascript做好铺垫。</div><div class="line"></div><div class="line">保留字：</div><div class="line">一旦出现Unexpected strict mode reserved word这样的错误说明你用保留字做了参数名了。</div><div class="line">es6--&gt;implements, interface, let, package, private, protected, public, static, yield</div><div class="line">es5--&gt;class, enum, export, extends, import, super</div></pre></td></tr></table></figure>
<p> <a href="http://www.ruanyifeng.com/blog/2013/01/javascript_strict_mode.html" target="_blank" rel="external">阮一峰 严格模式</a></p>
<p>###3.5 let</p>
<p>在使用let命令声明变量时，一个变量名只能声明一次，不存在命名冲突。<br>let定义作用域在代码块里,解决命名冲突问题，能体现代码的封装性<br>变量提示，用let不存在变量提示，会直接报错，告诉你变量没有定义<br>let命令每次定义的作用域都在本次循环的方法体内</p>
<p>###3.6 const</p>
<p>//定义常量，不会发生变化<br>//如定义了常量，再去修改就会报错error  Assignment to constant variable 不可以给常量赋值<br>//const定义的常量，作用域与let相同<br>//应用场景const用来定义静态变量,加载模块的时候，定义个常量，把模块赋值给常量</p>
<p>###3.7 块级作用域</p>
<p>凡是被{}包裹的代码属于一个代码块</p>
<p>###3.8 字符串的一些扩展</p>
<h2 id="4-文件操作"><a href="#4-文件操作" class="headerlink" title="4. 文件操作"></a>4. 文件操作</h2><h3 id="4-1-Buffer"><a href="#4-1-Buffer" class="headerlink" title="4.1 Buffer"></a>4.1 Buffer</h3><p>十六进制：0、1、2、3、4、5、6、7、8、9、a、b、c、d、e、f  满16进位 所以 0X10=16<br>计算机最早诞生的时候，没有中文，在美国</p>
<p>26个英文字母，@ ! , . - + =</p>
<p>计算机只能识别 0 或者 1</p>
<p>把你的字符和计算机真正存储的二进制数据做了一个字典：</p>
<p>可以通过 开源中国 官网网站提供的一个工具页面：<a href="http://tool.oschina.net/" target="_blank" rel="external">http://tool.oschina.net/</a></p>
<p>随着计算机普及到了世界各地，ASCII 码 已经不能满足世界各地人们的需求了</p>
<p>计算机进入中国之后，后来在原来的 ASCII 码基础之上扩展了一个新的字符集编码：gb2012，<br>字典<br>用来支持中文<br>字节的转化</p>
<p>1汉字=2字节  00100010 00000000<br>1字节（Byte)＝8字位＝8个二进制数<br>1字位(bit)＝1个二进制数<br>1B=8b<br>1KB=1024B<br>1MB=1024KB<br>1GB=1024MB </p>
<h4 id="4-1-1-创建Buffer"><a href="#4-1-1-创建Buffer" class="headerlink" title="4.1.1 创建Buffer"></a>4.1.1 创建Buffer</h4><p>Buffer 是一个像 Array 的对象，它的元素为16进制的两位数（0-255的值），主要用于操作字节，<br>Buffer 是一个全局对象，使用的时候不需要 require</p>
<ul>
<li>new Buffer(size)</li>
<li>new Buffer(str,[encoding])</li>
</ul>
<h4 id="4-1-2-Buffer的一些属性和方法"><a href="#4-1-2-Buffer的一些属性和方法" class="headerlink" title="4.1.2 Buffer的一些属性和方法"></a>4.1.2 Buffer的一些属性和方法</h4><ul>
<li>buf[index] 通过下标访问 buffer 的某个字节的数据</li>
<li>buf.indexOf(value,[byteOffset],[encoding]) 查找某个字符在 buffer 内存中的字节下标</li>
<li>buf.includes(value,[byteOffset],[encoding])</li>
<li>buf.length</li>
<li>buf.slice([start,[end]])</li>
<li>buf.toString([encoding],[start], [end])</li>
<li>buf.write(string,[offset],[length],[encoding])</li>
</ul>
<h4 id="4-1-3-造成乱码的原因"><a href="#4-1-3-造成乱码的原因" class="headerlink" title="4.1.3 造成乱码的原因"></a>4.1.3 造成乱码的原因</h4><p>我们通常所说的编码一般就是指 字符集编码，一般用于字符串</p>
<p>当你把一个 <code>gbk</code> 编码文件发送给了你的一个国外友人的时候，<br>乱码的原因就是：他的机器上没有该编码　</p>
<p>计算机为了让多语言操作系统下可以识别和共享一种编码格式：所以诞生了 超级大字典：<code>utf-8</code></p>
<p>造成乱码的原因其实就是　读取的编码和文件的编码不一致　</p>
<p>要想解决乱码：让文件编码和读取编码统一即可</p>
<ul>
<li>什么是字符集编码</li>
<li>为什么要有编码<ul>
<li>计算机只能识别二进制</li>
<li>为了让计算机可以识别字符，人类做了一个字典 二进制 -&gt; 字符 的映射关系</li>
</ul>
</li>
<li>为什么会产生乱码<ul>
<li>文件编码和读取该文件的编码不一致导致的</li>
</ul>
</li>
<li>如何解决乱码<ul>
<li>让文件和读取的字符编码集一致即可</li>
</ul>
</li>
<li><p>如何解决 Node 原生不支持的一些编码</p>
<ul>
<li>通过 第三方包：<a href="https://www.npmjs.com/package/iconv-lite" target="_blank" rel="external">iconv-lite </a></li>
<li>该第三方包可以解决 gbk 等编码不支持的问题<br>###4.2文件流 </li>
</ul>
</li>
<li><p>流对象 stream</p>
</li>
<li>fs.readFile()和fs.writeFile()问题？<ul>
<li>对大文件的处理，例如下载</li>
</ul>
</li>
<li>通过文件流的形式传输大文件<br>  const rs = fs.createReadStream(path1);<br>  const ws = fs.createWriteStream(path1);<br>  rs.pipe(ws);</li>
<li>控制流</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">const fs = require(&apos;fs&apos;);</div><div class="line">//读文件的流</div><div class="line">const rs = fs.createReadStream(&apos;1.itcast&apos;);</div><div class="line"></div><div class="line"></div><div class="line">//写文件流</div><div class="line">const ws = fs.createWriteStream(&apos;./b/234234.itcast&apos;);</div><div class="line">var stats = fs.statSync(&apos;1.itcast&apos;);</div><div class="line">//stats.size 文件大小</div><div class="line">//rs.pipe(ws);</div><div class="line"></div><div class="line">rs.on(&apos;data&apos;, function(chunk) &#123;</div><div class="line">    console.log(chunk.length);</div><div class="line">    ws.write(chunk);</div><div class="line">&#125;)</div><div class="line"></div><div class="line">rs.on(&apos;end&apos;, function() &#123;</div><div class="line">    console.log(&quot;读取结束&quot;);</div><div class="line">    ws.end();</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<h1 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h1><ul>
<li>vsc教程<a href="vsc教程">http://i5ting.github.io/vsc/</a></li>
<li>装node-inspector</li>
<li>读<a href="http://es6.ruanyifeng.com/#README" target="_blank" rel="external">http://es6.ruanyifeng.com/#README</a></li>
<li>vsc教程<a href="vsc教程">http://i5ting.github.io/vsc/</a></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/19/12{node入门模块操作_文件操作}/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Robert">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/19/12{node入门模块操作_文件操作}/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T22:33:43+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p> title: node 入门05<br> date: 2016-10-05 22:00:00</p>
<h2 id="tags-node"><a href="#tags-node" class="headerlink" title=" tags: node"></a> tags: node</h2><ul>
<li>包的实际中应用有那些场景<h2 id="1-0-nvm常用命令"><a href="#1-0-nvm常用命令" class="headerlink" title="1.0 nvm常用命令"></a>1.0 nvm常用命令</h2></li>
<li>nvm项目地址：<a href="https://github.com/coreybutler/nvm-windows" target="_blank" rel="external">nvm-github地址</a></li>
<li>查看所有已安装的本地的node版本<br><code>nvm list</code></li>
<li>切换node版本<br><code>nvm use 版本号</code></li>
<li>安装指定版本的node<br><code>nvm install 版本号 位数</code></li>
<li>卸载已安装的指定版本的node<br><code>nvm uninstall 版本号</code></li>
</ul>
<p>###1.1模块的分类</p>
<figure class="highlight plain"><figcaption><span>```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">- 核心模块</div><div class="line">  + fs file system</div><div class="line">  + http</div><div class="line">  + os</div><div class="line">  + path</div><div class="line">  + querystring</div><div class="line">  + url</div><div class="line"></div><div class="line">###1.2模块 require、module、exports</div><div class="line"></div><div class="line">- require的实现原理</div><div class="line"></div><div class="line">```把代码从文件中读出来，用匿名函数的方式头尾包装，返回modules.exports对象，曝露出想要曝露出来的属性、方法、对象。</div><div class="line">   补充了exports是指向modules.exports的一个指针，exports能做的，modules.exports都能做的。</div></pre></td></tr></table></figure>
<ul>
<li>require查找文件、包原理</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">第二次加载的时候优先从缓存查找读取，</div><div class="line">node_modules中没有的，从父文件夹中查找，如果没有，直到根目录为止</div></pre></td></tr></table></figure>
<ul>
<li><p>module</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">里面保存了模块的信息路径、父子信息、曝露出的对象信息</div></pre></td></tr></table></figure>
</li>
<li><p>exports</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">module.exports 别名</div><div class="line">module.exports=123;已经使用过一次了，exports就不生效了</div><div class="line">module.exports.a=12;这样使用,exports是还可以使用的</div></pre></td></tr></table></figure>
</li>
</ul>
<p>###1.4包<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">package.json是包的说明书，</div><div class="line">dependencies当前包所依赖的包：&gt;、&lt;、&gt;=、&lt;=、~、*、&quot; &quot;、X、^</div><div class="line"> devDependencies 开发环境中包所依赖的包：</div></pre></td></tr></table></figure></p>
<p>###1.5npm<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">npm init  创建package.json文件</div><div class="line">npm install  将package.json中的文件依赖的包从网上下载到本地</div><div class="line">npm install -save 包名  将包下载下来并且加载到dependencies中去</div><div class="line">npm i -S 包名 替代上面的命令</div><div class="line">npm install -save-dev 包名 将包下载下来并且加载到devDependencies中去</div><div class="line">npm i -D 包名 替代上面的命令</div><div class="line">npm install -g 包名 全局安装  安装的是全局工具</div><div class="line">npm docs 包名 查看包的文档</div></pre></td></tr></table></figure></p>
<p>###1.6nrm npm的数据源管理工具<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">nrm ls 查看npm的数据源</div><div class="line">nrm use 切换npm下载包的地址</div><div class="line">nrm test  测试下哪个数据源快</div></pre></td></tr></table></figure></p>
<h3 id="1-7-3m"><a href="#1-7-3m" class="headerlink" title="1.7 3m"></a>1.7 3m</h3><p>npm node的包管理工具<br>nvm node的版本管理工具<br>nrm npm的数据源管理工具</p>
<p>###1.8箭头函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">语法糖替代function()&#123;&#125;  v=&gt;v</div></pre></td></tr></table></figure></p>
<p>#2.i/o</p>
<p>###2.1什么是i/o？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">io input、output 输入输出，电脑的输入输出，例如音频录音表示声音输入、听音乐是声音的输出</div><div class="line">网络上的传输全部是在传字符串，i/o在服务器上可以理解为读写操作。</div></pre></td></tr></table></figure>
<p>###2.2并发<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">一个时间段中有几个程序都处于已启动运行到运行完毕之间。</div></pre></td></tr></table></figure></p>
<p>#3异步i/o与事件驱动</p>
<p>###3.1什么是进程？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">进程是为运行当中的应用程序提供运行环境的</div><div class="line">一个运行当中的应用程序就会有一个进程与之相对应</div></pre></td></tr></table></figure></p>
<p>###3.2什么是线程？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">线程是用来运行应用程序中代码的，</div><div class="line">一个线程在一个时间只能做一件事件。</div><div class="line">多线程，调度起来很麻烦。</div><div class="line">node是单线程执行，用异步替代了多线程</div></pre></td></tr></table></figure></p>
<p>###3.3同步、异步有什么不同？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">异步不会阻塞后面的代码，同步会阻塞后面的代码</div><div class="line">一条线程先执行同步的代码后执行异步的代码。</div></pre></td></tr></table></figure></p>
<p>###3.4异步非i/o操作和异步i/o操作<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">异步非io setTimeout setInterval</div><div class="line">异步IO操作 操作文件 网络操作 fs</div></pre></td></tr></table></figure></p>
<p>###3.5node的事件驱动模型？<br><img src="./images/event-loop.png" alt="Alt text"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure></p>
<p>###3.5异步和多线程的比较？<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">node的异步是帮助我们去做了多线程的操作，简化了代码</div></pre></td></tr></table></figure></p>
<p>#4.文件操作</p>
<p>###4.1文件的完整读写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">fs模块---》操作文件---》io----》node的特长</div><div class="line">fs模块是node非常重要的模块，能体现出node的优势</div></pre></td></tr></table></figure>
<ul>
<li>fs.access() 判断路径</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//判断文件可读性</div><div class="line">var fs=require(&apos;fs&apos;);</div><div class="line"></div><div class="line">fs.access(&apos;./03.js&apos;,(err)=&gt;&#123;</div><div class="line">  if(!err)&#123;</div><div class="line">    fs.readFile(&apos;./03.js&apos;,&apos;utf8&apos;,(err,data)=&gt;&#123;</div><div class="line">        console.log(data);</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ul>
<li>fs.readFile()  读文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">//判断文件可读性</div><div class="line">var fs=require(&apos;fs&apos;);</div><div class="line"></div><div class="line">fs.access(&apos;./03.js&apos;,(err)=&gt;&#123;</div><div class="line">  if(!err)&#123;</div><div class="line">    fs.readFile(&apos;./03.js&apos;,&apos;utf8&apos;,(err,data)=&gt;&#123;</div><div class="line">        console.log(data);</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ul>
<li>fs.writeFile()  写文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">//只能文件不能创建文件夹 ,会覆盖文件</div><div class="line">fs.writeFile(&apos;./foo.js&apos;,&quot;hello！！！！！  node.js&quot;,&quot;utf8&quot;,(err)=&gt;&#123;</div><div class="line">  if(err) throw err;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ul>
<li>fs.appendFile() 在文件的内部去追加写一些内容</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">fs.access(&quot;./asfdasdfsadfa&quot;,(err)=&gt;&#123;</div><div class="line">  if(!err)&#123;</div><div class="line">    fs.appendFile(&apos;./a/foo.js&apos;, &quot;写入内容&quot;, &quot;utf8&quot;, (err) =&gt; &#123;</div><div class="line">      if (err) throw err;</div><div class="line">    &#125;)</div><div class="line">  &#125;</div><div class="line">  else&#123;</div><div class="line">     throw err;</div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ul>
<li>fs.mkdir() 创建文件夹</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">//创建文件夹只能一个一个的创建 </div><div class="line">/创建多层目录可以使用数组遍历拼接创建</div><div class="line">fs.mkdir(&apos;./b&apos;,(err)=&gt;&#123;</div><div class="line">  if(err) throw err;</div><div class="line">  else&#123;</div><div class="line">    fs.appendFile(&apos;./b/foo.js&apos;, &quot;~~~囧囧囧~~~&quot;,</div><div class="line">     &quot;utf8&quot;, (err) =&gt; &#123;</div><div class="line">      if (err) throw err;</div><div class="line">    &#125;)</div><div class="line"></div><div class="line">  &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ul>
<li>fs.readdir() 读文件夹</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">fs.stat(path, (err, stats) =&gt; &#123;</div><div class="line">    if (err) throw err;</div><div class="line">    if (stats.isDirectory()) &#123;</div><div class="line">        console.log(&quot;是文件夹&quot;);</div><div class="line">    &#125;</div><div class="line">    if (stats.isFile()) &#123;</div><div class="line">        console.log(&quot;是文件&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"></div><div class="line">fs.readdir(path, (err, files) =&gt; &#123;</div><div class="line">    //输出一个数组</div><div class="line">    console.log(files);</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<ul>
<li>fs.stat()<ul>
<li>isFile：用于判断被查看的对象是否为一个文件，如果是返回true，否则，返回false；</li>
<li>isDirectory：用于判断被查看的对象是否为一个目录，如果是的话则返回true，否则，返回false；</li>
<li>isBlockDevice：用于判断被查看的文件是否为一个块设备文件，如果是的话则返回true，否则，返回false(仅在Unix操作系统下有效)；</li>
<li>isCharacterDevice：用于判断被查看的文件是否为一个字符设备文件，如果是的话则返回true，否则，返回false(仅在Unix操作系统下有效)；</li>
<li>isSymbolicLink：用于判断被查看的文件是否为一个符号链接文件，如果是的话则返回true，否则，返回false。该方法仅在lstat方法的回调函数中有效；</li>
<li>isFIFO：用于判断被查看的文件是否为一个FIFO，如果是的话则返回true，否则，返回false(仅在Unix操作系统下有效)；</li>
<li>isSocket：用于判断被查看的文件是否为一个socket文件，如果是的话则返回true，否则，返回false(仅在Unix操作系统下有效)；</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var fs = require(&apos;fs&apos;);</div><div class="line">var path = &apos;./b&apos;;</div><div class="line">fs.stat(path, (err, stats) =&gt; &#123;</div><div class="line">    if (err) throw err;</div><div class="line">    if (stats.isDirectory()) &#123;</div><div class="line">        console.log(&quot;是文件夹&quot;);</div><div class="line">    &#125;</div><div class="line">    if (stats.isFile()) &#123;</div><div class="line">        console.log(&quot;是文件&quot;);</div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line">fs.readdir(path, (err, files) =&gt; &#123;</div><div class="line">    console.log(files);</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
<p>#5.path</p>
<ul>
<li>路径中 ./ 表示当前路径(相对路径)</li>
<li>/ 代表c盘根目录</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">var path=require(&apos;path&apos;);</div><div class="line"></div><div class="line">//拼接正确的路径的写法</div><div class="line">var p=path.join(&apos;asdfasdf/asdfasdf/&apos;,&apos;../test&apos;);</div><div class="line">//获取路径中的文件夹路径</div><div class="line">var p1=path.dirname(&apos;/foo/bar/baz/asdf/quux/1.html&apos;);</div><div class="line">//获取路径中文件的后缀名</div><div class="line">var p2=path.extname(&apos;/foo/bar/baz/asdf/quux/1.html&apos;)</div><div class="line">var p3=path.extname(&apos;/foo/bar/baz/asdf/quux/1.html.js.css&apos;)</div><div class="line">//取文件名</div><div class="line">var p4 =path.basename(&apos;/foo/bar/baz/asdf/quux.html&apos;)</div><div class="line">//取去掉后缀名的文件名</div><div class="line">var p4 =path.basename(&apos;/foo/bar/baz/asdf/quux.html&apos;,&apos;.html&apos;)</div><div class="line">var dir=&apos;/foo/bar/baz/asdf/quux.html&apos;;</div><div class="line">var p4 =path.basename(dir,path.extname(dir));</div><div class="line">console.log(p4);</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/19/11{node入门3m安装_基本命令}/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Robert">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/19/11{node入门3m安装_基本命令}/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T22:33:43+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p> title: node 入门04<br> date: 2016-10-04 22:00:00</p>
<h2 id="tags-node"><a href="#tags-node" class="headerlink" title=" tags: node"></a> tags: node</h2><h3 id="SeaJS-的使用"><a href="#SeaJS-的使用" class="headerlink" title="SeaJS 的使用"></a><code>SeaJS</code> 的使用</h3><ul>
<li>定义模块 <code>define</code>作用域就在define的函数体里，三个参数require、exports、module</li>
<li>加载模块 <code>require</code><ul>
<li>在一个模块系统中，<code>require</code> 加载过的模块会被缓存</li>
<li>默认 <code>require</code> 是同步加载模块的</li>
</ul>
</li>
<li>暴露接口 <code>exports</code> 和 <code>module.exports</code> exports是module.exports的别名，exports能做什么，module.exports就能做什么</li>
<li>启动模块系统 <code>seajs.use(callback)</code><ul>
<li>seajs.use 和 Document 的 ready 没有任何关系</li>
<li>要想保证 文档结构加载完毕再执行你的 js 代码，一定要在 seajs.use  内部通过 window.onload 或者 $(function(){})</li>
</ul>
</li>
<li>分清楚前台模块化和node中的模块化的区别</li>
<li>掌握模块化的思想</li>
</ul>
<p>##什么是 Node?</p>
<ul>
<li><a href="">https://nodejs.org/en/</a></li>
<li>node是js运行环境基于v8引擎<br>特点用事件驱动模型、无阻塞的io模型<br>优势轻量、高效</li>
<li>node是门技术不是语言<br>java java<br>.net c#<br>node js</li>
<li>Node.js® is a JavaScript runtime built on Chrome’s V8 JavaScript engine. <ul>
<li>JavaScript runtime  JavaScript 运行时</li>
<li>Chrome’s V8 JavaScript engine Chrome 浏览器 V8 引擎</li>
<li>Node.js 是一个 构建于 谷歌的 Chrome 浏览器的 V8 引擎之上的一个 <code>JavaScript运行时</code> 环境</li>
<li>Node.js可以解析和执行 JavaScript 代码</li>
</ul>
</li>
<li>Node.js uses an event-driven, non-blocking I/O model that makes it lightweight and efficient. <ul>
<li>event-driven  事件驱动模型</li>
<li>non-blocking I/O model  非阻塞IO模型  IO（input/output）输入与输出</li>
<li>lightweight[ˈlaɪtweɪt]  轻量级<ul>
<li>在软件开发行业中，轻量级标识褒义词</li>
<li>轻量级也就意味着 运行速度快</li>
<li>轻量级也就意味着有更好的 跨平台 特性（平台的差异性，兼容性）</li>
</ul>
</li>
<li>efficient[ɪˈfɪʃnt] 高效的</li>
<li>Node.js的 事件驱动和非阻塞IO模型使得Node.js本身非常的轻量和高效</li>
</ul>
</li>
<li>Node.js’ package ecosystem, npm, is the largest ecosystem of open source libraries in the world.<ul>
<li>package ecosystem npm  包生态系统 npm</li>
<li>largest  最大的</li>
<li>open source libraries 开源库<ul>
<li>理论意义上 开源就表示有成熟的社区，开放源代码</li>
</ul>
</li>
<li>Node.js 的npm包生态系统，是世界上 最大的 开源库 生态系统</li>
<li>以前的 客户端中 JavaScript 库 散列在互联网的各个地方</li>
<li>npm 就是 把大家经常使用的一些开源库 给 组织到了一起</li>
</ul>
</li>
</ul>
<p>Node 是一个可以解析和执行 JavaScript 代码的 运行时环境</p>
<ul>
<li>Node.js 的作者<ul>
<li>瑞恩.达尔</li>
</ul>
</li>
</ul>
<h3 id="Node-的实现结构"><a href="#Node-的实现结构" class="headerlink" title="Node 的实现结构"></a>Node 的实现结构</h3><ul>
<li>V8 JavaScript 解析执行引擎   ECMAScript</li>
<li>中间层 （提供了文件操作、网络操作登陆接口）更加接近操作系统的接口供开发人员使用</li>
<li>硬件层</li>
</ul>
<p>###谁在使用 Node</p>
<p>国内一些创业公司用用的比较多，功夫熊（做上门保健的，美甲、按摩）<br>国外的一些大公司都有使用：Facebook、Twitter、Google<br>国内的一些大公司：Alibaba（天猫所有的页面都是通过Node提供的服务）、Tencent、Baidu</p>
<h2 id="安装与配置"><a href="#安装与配置" class="headerlink" title="安装与配置"></a>安装与配置</h2><h3 id="3m安装法-nvm-npm-nrm"><a href="#3m安装法-nvm-npm-nrm" class="headerlink" title="3m安装法 nvm npm nrm"></a>3m安装法 nvm npm nrm</h3><h3 id="安装包的方式安装"><a href="#安装包的方式安装" class="headerlink" title="安装包的方式安装"></a>安装包的方式安装</h3><ul>
<li>问题1：安装了node 没有卸载 2:32和64搞混了 3：；拼写错误，路径错误——&gt;老师眼力</li>
<li>下载地址：</li>
<li>一路下一步 next</li>
<li>如何确认是否安装成功：<ul>
<li><code>win + r</code> ，然后输入 <code>cmd</code> ，然后敲回车 就可以进入 cmd 控制台</li>
</ul>
</li>
</ul>
<h3 id="nvm-安装和管理我们的-Node-js版本"><a href="#nvm-安装和管理我们的-Node-js版本" class="headerlink" title="nvm 安装和管理我们的 Node.js版本"></a>nvm 安装和管理我们的 Node.js版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">nvm的安装方式，node.js version manager 是一个node的版本管理工具</div><div class="line">为了解决node版本切换问题</div><div class="line">右键在此电脑上点击一下--&gt;属性---&gt;系统---&gt;高级系统设置---&gt;环境变量</div><div class="line">控制面板---&gt;系统---&gt;高级系统设置---&gt;环境变量</div><div class="line">NVM_HOME---C:\dev\nvm</div><div class="line">NVM_SYMLINK--C:\dev\nodejs</div><div class="line">新建一个path     %NVM_HOME%;%NVM_SYMLINK%</div></pre></td></tr></table></figure>
<p>nvm 用法<br>查看版本号<br>nvm list<br>用哪个版本（已经下载过的版本）<br>nvm use 版本号<br>nvm use 版本号 32<br>下载相对应版本<br>nvm install 版本号<br>nvm install 版本号 32</p>
<p>nvm下载的是二进制版本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">## 控制台基本使用</div><div class="line"></div><div class="line">允许用户可以在终端命令台中与操作系统交互，其实就是输入与输出</div><div class="line"></div><div class="line">### 如何打开cmd</div><div class="line"></div><div class="line">1. 通过 按 window 键，输入 `cmd` 打开cmd程序</div><div class="line">2. 通过 `win+r`  输入 `cmd`，敲回车就可以进入</div><div class="line"></div><div class="line">### 基本命令</div><div class="line"></div><div class="line">- `dir` directory 列出当前目录下所有的条目</div><div class="line">  + 别名 `ls` 在 powershell 中可以使用</div><div class="line">- `cd` change directory 切换目录</div></pre></td></tr></table></figure></p>
<p>切换到当前目录下的 Desktop 目录<br>当想切换到当前目录的时候，最好使用 cd ./ 相对路径的形式<br><code>C:\Users\iroc&gt;cd Desktop</code><br><code>C:\Users\iroc\Desktop&gt;</code></p>
<p>在Windows 上切换盘符：<br><code>d:</code></p>
<p>切换绝对路径之后再同一个盘符下才有效</p>
<p>切换到上一级目录<br><code>C:\Users\iroc\Desktop\code\seajs&gt;cd ../</code><br><code>C:\Users\iroc\Desktop\code&gt;</code></p>
<p>连续进入多级目录<br><code>C:\Users\iroc\Desktop\code&gt;cd seajs/a</code><br><code>C:\Users\iroc\Desktop\code\seajs\a&gt;</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">- `cls` clear screen 清屏</div><div class="line">  + 别名 clear 在widnows中的 `powershell` 中可以使用</div><div class="line"></div><div class="line"> windows下的寻址用\反斜杠 </div><div class="line"></div><div class="line">### path 环境变量</div><div class="line"></div><div class="line">目的是为了在控制台中的任何目录都可以快速打开或者使用该可执行文件</div><div class="line"></div><div class="line">环境变量就是用来存储系统级别的变量</div><div class="line"></div><div class="line">- 添加环境变量</div><div class="line">  + 我的电脑 -&gt; 右键选择属性 -&gt; 高级系统设置 -&gt; 切换到`高级`面板 -&gt; 环境变量</div><div class="line">  + 第一种方式：直接把可执行文件所属的目录 放到 PATH 环境变量中（如果没有PATH环境变量，自己新建）</div><div class="line">  + 第二种方式：新建一个环境变量，变量名规范：逻辑名_HOME 变量值：该可执行文件所属的目录</div><div class="line">  + 注意：无论是直接添加的路径还是引用的变量名，一定要用 英文的分号 区分开</div><div class="line">  + 引用变量名的时候，变量名两边都是 `%`</div><div class="line"></div><div class="line">`&gt; feiq`</div><div class="line">当你在控制台中输入一个程序的名字的时候，cmd 默认把它当成一个可执行文件去执行了，</div><div class="line">优先找当前目录下是否有没有一个叫做feiq.exe 的可执行文件，如果有，直接执行打开</div><div class="line">如果没有，cmd会进入 path 环境变量中 一个目录一个目录的挨着查找里面是否有该可执行文件</div><div class="line"></div><div class="line">## REPL(Read-eval-print-loop) 运行环境</div><div class="line"></div><div class="line">用来测试一下代码的，repl和chrome的控制台很像</div><div class="line"></div><div class="line">- 通过在控制台中输入 `node` 敲回车就可以计入 REPL 运行环境</div><div class="line">- 通过在REPL运行环境中 连续按两次 `Ctrl+C` 就可以退出 REPL 运行环境</div><div class="line"></div><div class="line">## 执行js文件</div><div class="line"> 用node执行js文件，文件在当前目录下----&gt;node +文件名</div><div class="line"> 如果不在当前目录下，node +文件路径的形式执行</div><div class="line"> 相对路径</div><div class="line"> ./当前路径</div><div class="line"> ../上级目录</div><div class="line"> 绝对路径执行js的方式</div><div class="line"> node c:\Users\cena\Desktop\code\01helloworld.js</div><div class="line">## Global</div><div class="line">global和window很像，都是全局对象</div><div class="line">## CONSOLE</div></pre></td></tr></table></figure></p>
<p>断言 是用来测试用的<br>断言就是假定一个条件，如果条件成立则不输出任何内容，如果条件不成立则报错还要输出想要输出的内容。<br>console.assert(条件,条件不成立输出的内容);<br>var foo=3;<br>console.assert(foo==3,”失败”);<br>time() timeEnd()成对出现，计算在两个方法中间的代码的运行时间，传入的参数要一致<br>console.time(‘test’);</p>
<p>console.timeEnd(‘test1’);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">### __dirname 和 __filename</div><div class="line">__dirnamee 用来找到当前文件夹的路径</div><div class="line">__filename 用来去到当前文件的路径</div><div class="line">不知道代码要才哪使用的时候，用于灵活的写代码取路径的时候。</div><div class="line">它们属于模块作用域，可以直接使用</div><div class="line">它们两个用来获取路径的，一般用于操作文件路径的时候，才会用到</div><div class="line"></div><div class="line">## process</div><div class="line"></div><div class="line">process 是一个全局可用对象，用来和我们现在启动中的node进行交互的</div><div class="line"></div><div class="line">process.version取版本号</div><div class="line">在控制台做标准输出</div><div class="line">process.stdout.write(`123123`);</div><div class="line">process.pid：当前进程的进程号。</div><div class="line">process.version：Node的版本，比如v0.10.18。</div><div class="line">process.platform：当前系统平台，比如Linux。</div><div class="line">process.env：指向当前shell的环境变量，比如process.env.HOME。</div><div class="line">process.stdout：指向标准输出。</div><div class="line">process.stdin：指向标准输入。</div><div class="line">process.stderr：指向标准错误。</div><div class="line">## 模块系统</div><div class="line">## node.js模块化</div></pre></td></tr></table></figure></p>
<p>一个js文件在node里面我们就理解为一个模块<br>require用来加载模块<br>module.exports用来曝露属性和方法的，因为模块有封装性，需要打破封装性曝露方法和属性来<br>exports是module.exports的别名，exports可以做的事情，module.exports都可以做，exports只能用.的形式曝露属性和方法<br>```</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/07/19/10{node环境变量_模块_包加载}/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Robert">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Robert">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/07/19/10{node环境变量_模块_包加载}/" itemprop="url">未命名</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-07-19T22:33:43+08:00">
                2017-07-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<p> title: node 入门02<br> date: 2016-10-02 22:00:00</p>
<h2 id="tags-node"><a href="#tags-node" class="headerlink" title=" tags: node"></a> tags: node</h2><h2 id="1-2-cmd"><a href="#1-2-cmd" class="headerlink" title="1.2 cmd"></a>1.2 cmd</h2><ul>
<li>cd（change directory）切换目录</li>
<li>md（make directory）新建目录</li>
<li>rd（remove directory）删除非空目录</li>
<li>dir（directory）查看目录中的条目<br><code>ls linux</code></li>
<li>ren（rename）重命名文件</li>
<li>del（delete）删除文件</li>
<li>cls（clear screen）清屏<br><code>clear linux</code></li>
</ul>
<h2 id="1-3-path-环境变量"><a href="#1-3-path-环境变量" class="headerlink" title="1.3 path 环境变量"></a>1.3 path 环境变量</h2><ul>
<li>path环境变量的作用是什么？</li>
<li>在Windows中配置path环境变量的方法是什么？  </li>
</ul>
<h2 id="1-4-REPL（Read-Eval-Print-Loop）交互式运行环境"><a href="#1-4-REPL（Read-Eval-Print-Loop）交互式运行环境" class="headerlink" title="1.4 REPL（Read Eval Print Loop）交互式运行环境"></a>1.4 REPL（Read Eval Print Loop）交互式运行环境</h2><ul>
<li><p>作用：一般来说，可以用来做一些API的测试</p>
</li>
<li><p>进入REPL运行环境</p>
</li>
<li><p>退出REPL运行环境</p>
</li>
</ul>
<h2 id="1-5-Node-js基础知识"><a href="#1-5-Node-js基础知识" class="headerlink" title="1.5 Node.js基础知识"></a>1.5 Node.js基础知识</h2><ul>
<li>如何让Node.js执行一个js文件<br><code>node 文件名</code></li>
</ul>
<p>-绝对路径和相对路径<br>  <code>.\或者..\ 相对路径</code><br>  <code>c:/xx/xx.js绝对路径</code><br>  <code>\ linux 根目录
    windows 盘符的根目录</code><br>  不能夸盘符</p>
<h2 id="1-6-globals"><a href="#1-6-globals" class="headerlink" title="1.6 globals"></a>1.6 globals</h2><ul>
<li>__dirname和__filename<br><code>关于这俩家伙，一般在读取文件的时候，最好使用绝对路径的方式，通过这俩家伙拼接</code></li>
<li>console<ul>
<li>assert(foo==1,”失败”);断言 测试</li>
<li>time(‘timer’)</li>
<li>timeEnd(‘timer’)</li>
<li>成对的出现</li>
</ul>
</li>
</ul>
<h2 id="1-7-模块系统"><a href="#1-7-模块系统" class="headerlink" title="1.7 模块系统"></a>1.7 模块系统</h2><ul>
<li>什么是模块<br><code>一个文件就是一个模块</code></li>
<li>模块作用域<br><code>在一个模块内变量、函数、对象都属于这个模块，对外是封闭的。</code></li>
<li>require<br><code>require(&quot;路径&quot;)</code></li>
<li>exports<br><code>是module.exports的一个别名、引用，exports能做的module.exports都可以完成。</code></li>
<li>module.exports<br><code>最终曝露出去的对象，想曝露出去对象、属性、方法就挂载到module.exports</code></li>
</ul>
<p>#2.模块系统</p>
<p>##2.1模块的种类</p>
<p>在Node.js中，模块分为两类：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">第一类，核心模块，node自带，用名称直接可以加载。</div><div class="line">- 核心模块</div><div class="line">  + fs file system</div><div class="line">  + http</div><div class="line">  + os</div><div class="line">  + path</div><div class="line">  + querystring</div><div class="line">  + url</div><div class="line">  ...</div><div class="line">第二类，文件模块，用路径加载，有一种特殊的文件模块-----&gt;包，可以用名字。</div></pre></td></tr></table></figure></p>
<p>module 是一个全局对象，它的作用是存储模块信息的,每一个js是一个模块，每一个模块里面都有一个module，module里面还存储了父子结构<br>直接给module.exports赋值，exports是无效，用属性的形式去赋值的时候二者都有效</p>
<h2 id="2-2-优先从缓存加载"><a href="#2-2-优先从缓存加载" class="headerlink" title="2.2 优先从缓存加载"></a>2.2 优先从缓存加载</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">common.js-----&gt;加载后，再次加载时，去缓存中取module.exports</div></pre></td></tr></table></figure>
<h2 id="2-3-require参数解析"><a href="#2-3-require参数解析" class="headerlink" title="2.3 require参数解析"></a>2.3 require参数解析</h2><h3 id="require的加载流程"><a href="#require的加载流程" class="headerlink" title="require的加载流程"></a>require的加载流程</h3><p>1.判断是否在文件模块的缓存区中<br>  1.在  返回module.exports<br>  2.不在<br>     1.判断是否是原生模块（核心模块）<br>         1.是 判断是否在原生模块的缓存区中<br>            1.是 返回module.exports<br>            2.不是<br>               1.加载这个原生模块<br>               2.module对象加载到原生模块缓冲区中 返回module.exports<br>         2.不是 说明是文件模块<br>            1.查找，看文件模块是不是真的存在（不存在报错 can’t find module）<br>            2.加载这个文件模块<br>            3.缓存module对象加载到文件模块的缓冲区中 返回module.exports</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">核心模块是Node.js原生提供的加载核心模块的时候，</div><div class="line">不需要传入路径，因为Node.js已经将核心模块的文件代码</div><div class="line">编译到了二进制的可执行文件中了</div><div class="line">在加载的过程中，原生的核心模块的优先级是是最高的</div></pre></td></tr></table></figure>
<p><img src="./images/image1.jpg" alt="Alt text"></p>
<ul>
<li><p>./或../开始的相对路径文件模块</p>
<figure class="highlight plain"><figcaption><span>和 你要加载的模块的文件名拼接 ```</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">- 以/开始的绝对路径文件模块</div></pre></td></tr></table></figure>
<ul>
<li>在Linux或者MAc的操作系统中，/表示系统的根路径</li>
<li>在Windows中，/表示当前文件模块所属的根磁盘路径<br>不建议使用，了解<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- 标识符中可以不包含扩展名</div><div class="line">  + Node会按照`.js、.node、.json`的次序补足扩展名，依次尝试</div></pre></td></tr></table></figure>
</li>
</ul>
<p>不包含扩展名的时候，Node.js会按照<br>  路径.js     以后自己在加载js文件模块的时候，就省略掉.js后缀就可以了<br>  路径.node   后缀为node的文件是c/c++写的一些扩展模块<br>  路径.json   如果是加载json文件模块，最好加上后缀.json，能稍微的提高一点加载的速度</p>
<pre><code>.json文件最终Node.js也是通过fs读文件的形式读取出来的，然后通过JSON.parse()转换成一个对象
</code></pre></li>
</ul>
<pre><code>Node.js会通过同步阻塞的方式看这个路径是否存在
依次尝试，直到找到为止，
如果找不到，报错
</code></pre>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">  </div><div class="line">  - require 加载包的时候</div><div class="line">``` </div><div class="line">   直接写包名，先在包内的node_modules,</div><div class="line">   目录下查找，去父级目录下的node_modules目录下查找，</div><div class="line">   依次向上查找，直到根目录。</div></pre></td></tr></table></figure>
<p><a href="http://www.infoq.com/cn/articles/nodejs-module-mechanism/" target="_blank" rel="external">参考文献</a></p>
<h1 id="3-包"><a href="#3-包" class="headerlink" title="3.包"></a>3.包</h1><p>还有一种特殊的文件模块，其实就是包</p>
<ul>
<li>问题：你开的一个功能模块，还是以文件的形式散列的，你给别人使用的时候很麻烦。</li>
<li>包的作用：在模块的基础上进一步组织JavaScript代码</li>
</ul>
<h2 id="3-1-包的组成"><a href="#3-1-包的组成" class="headerlink" title="3.1 包的组成"></a>3.1 包的组成</h2><ul>
<li>包结构</li>
<li>包描述文件package.json<ul>
<li>描述你的当前的包的一些相关的信息<br>+dependencies <ul>
<li>包名：“版本号” </li>
<li><blockquote>
<p>+版本号   下载大于某个版本号，npm会下最新版</p>
</blockquote>
</li>
<li>&lt; +版本号   下载小于某个版本号，npm会下小于这个版本号最新版</li>
<li>&lt;= 小于等于 一定会下你写的这个版本，除非没有你写的这个版本</li>
<li><blockquote>
<p>= 大于等于  下载最新版</p>
</blockquote>
</li>
<li>*、” “、X  任意 npm会给你下最新版</li>
<li>~ +版本号  会去下约等于这个版本的最新版，在大版本不变的情况下下一个比较新的版本</li>
<li>^ +版本号  不跃迁版本下载，^2.1.0 npm会下载大版本不变，去下载2.x.x版本里的最近版</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>  <a href="http://blog.csdn.net/woxueliuyun/article/details/39294375" target="_blank" rel="external">参考文献 package.json全字段解析</a></p>
<p>##<br>npm install -g fast-init</p>
<h2 id="3-2-package-json"><a href="#3-2-package-json" class="headerlink" title="3.2 package.json"></a>3.2 package.json</h2><p>包的描述文件</p>
<p>package.json文件内部就是一个JSON对象，该对象的每一个成员就是当前项目的一项设置，<br>比如name就是项目名称，version就是项目的版本号</p>
<p>在模块的加载机制中，有一个main属性是非常重要的，它很大意义上决定了包要导出的模块位置</p>
<h2 id="3-3"><a href="#3-3" class="headerlink" title="3.3"></a>3.3</h2><h1 id="npm"><a href="#npm" class="headerlink" title="npm"></a>npm</h1><ul>
<li>基于Node.js开发的包的托管网站</li>
<li>Node.js包管理工具</li>
</ul>
<p>npm :基于包的规范实现的一个包管理工具</p>
<ul>
<li>npm install 包名</li>
</ul>
<p>当执行npm install的时候，它会自动跑到npm的网站，然后找到该包的github地址，<br>找到之后，下载这个压缩包，然后在执行npm install的当前目录下找一个叫做node_modules目录<br>如果找到，直接解压这个压缩包，到node_modules目录下<br>如果找不到，则新建一个node_modules目录，解压到该目录</p>
<ul>
<li>npm install</li>
</ul>
<p>当执行npm install的时候，会自动在当前目录中查找package.json文件<br>如果找到，找里面的 dependencies 字段，安装该字段中所有依赖的项</p>
<ul>
<li><p>npm install –save 生产环境<br>npm i -S jquery@3.*<br>咱们以后在做项目的时候，先初始化一个package.json文件，<br>在安装第三方包依赖的时候，必须使用npm install –save express,添加依赖项到package.json文件中，<br>实际就是添加到dependencies字段中</p>
</li>
<li><p>npm install -save-dev 开发环境<br>npm i -D jquery@3.*<br>咱们以后在做项目的时候，先初始化一个package.json文件，<br>在安装第三方包依赖的时候，必须使用npm install –save express,添加依赖项到package.json文件中，<br>实际就是添加到dependencies字段中</p>
</li>
</ul>
<p>-npm docs +包名 调出相关的文件</p>
<p><a href="https://docs.npmjs.com/" target="_blank" rel="external">参考文献 npm的命令</a></p>
<h1 id="npm-这种东西的最终的目的就是：让你的开发模式工程化，都依靠工具来管理"><a href="#npm-这种东西的最终的目的就是：让你的开发模式工程化，都依靠工具来管理" class="headerlink" title="npm 这种东西的最终的目的就是：让你的开发模式工程化，都依靠工具来管理"></a>npm 这种东西的最终的目的就是：让你的开发模式工程化，都依靠工具来管理</h1><h1 id="nvm-npm-nrm"><a href="#nvm-npm-nrm" class="headerlink" title="nvm npm nrm"></a>nvm npm nrm</h1><h2 id="3m"><a href="#3m" class="headerlink" title="3m"></a>3m</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">nvm node版本的管理工具</div><div class="line">npm node的包管理工具</div><div class="line">nrm npm的数据源管理工具</div><div class="line"></div><div class="line"> npm install -g nrm</div></pre></td></tr></table></figure>
<h1 id="开源项目开发介绍"><a href="#开源项目开发介绍" class="headerlink" title="开源项目开发介绍"></a>开源项目开发介绍</h1><p>##<br>github 这个网站代码的仓库网站，我们可以把代码存入这个网站。<br>1.github 帮你管理代码<br>2.公司在使用github做代码的仓库<br>3.面试的时候会问（b格比较高的公司）<br>github 开源力量做一个开源项目</p>
<p>将成熟的代码打包放到npm 上去面，方便我们的使用</p>
<p>#4.文件操作</p>
<p>###4.1箭头函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">箭头函数就是一种语法糖</div><div class="line">语法糖是一种语法，用这种语法能尝到甜头，能是编程高效</div><div class="line">当函数体有一个参数有返回值的时候</div><div class="line"></div><div class="line">var foo=function(v)&#123; return v;&#125;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">var foo=v=&gt;v;</div><div class="line">当函数体没有参数有返回值的时候</div><div class="line"></div><div class="line">var foo=function()&#123; return v;&#125;</div><div class="line"></div><div class="line">var foo=()=&gt;v;</div><div class="line">当函数体有多个参数有返回值的时候</div><div class="line"></div><div class="line">var foo=function(v1,v2)&#123; return v1+v2;&#125;</div><div class="line">var foo=(v1,v2)=&gt;v1+v2;</div><div class="line">当函数体有多个参数没有返回值的时候</div><div class="line">var foo=function(v1,v2)&#123; </div><div class="line">  console.log(v1); console.log(v2);</div><div class="line">  &#125;</div><div class="line">var foo=(v1,v2)=&gt;&#123;</div><div class="line">  console.log(v1); console.log(v2);</div><div class="line">  &#125;;</div></pre></td></tr></table></figure></p>
<p>###4.2文件读写</p>
<ul>
<li>fs.readFile() 读文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">fs.readFile(file, [options], callback)</div><div class="line">//file 读文件的路径</div><div class="line">//options 用[]包裹的可选参数，object &#123;&quot;encoding&quot;:&quot;uft8&quot;,&quot;flag&quot;:&quot;r&quot;&#125;  string &apos;utf8&apos;</div><div class="line">//callback function  callback函数里面有两个参数 </div><div class="line">//err表示错误对象，如果readFile发生错误了，在callback函数里面会回返回err，err对象里面存着错误信息</div><div class="line">//如何读文件成功，err为null</div><div class="line">//data就是读文件，读出来的内容。</div></pre></td></tr></table></figure>
<ul>
<li>fs.access(path,[mode], callback) 用来判断文件是否存在</li>
<li>path 判断路径是否正确（也可以判断文件）’./pic’</li>
<li>mode一般不用，默认就可以了，用的话是用来判断文件是否可读可写可执行</li>
<li>callback 只有一个参数err，错，文件有问题</li>
<li>fs.writeFile()  写文件</li>
<li>fs.appendFile() 在文件的内部去追加写一些内容</li>
<li>fs.mkdir() 创建文件夹</li>
<li>fs.access() 判断路径</li>
<li><p>fs.stat()</p>
<ul>
<li>isFile：用于判断被查看的对象是否为一个文件，如果是返回true，否则，返回false；</li>
<li>isDirectory：用于判断被查看的对象是否为一个目录，如果是的话则返回true，否则，返回false；</li>
</ul>
</li>
<li><p>fs.readdir() 读一个路径</p>
</li>
</ul>
<h1 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h1><ul>
<li>vsc教程<a href="vsc教程">http://i5ting.github.io/vsc/</a></li>
</ul>
<p>#作业<br>2.npm 和package.json结合着连<br><code>npm init    初始化package.json</code><br><code>npm install   先配置package.json里的devDependencies dependencies字段</code><br><code>npm i -S +包名 npm install –save  不光能下载包，还能把依赖添加到package.json</code><br><code>npm i -D +包名 npm install –save-dev 不光能下载包，还能把依赖添加到package.json</code><br><code>npm docs 包名  查看包的相关文件 jquery、mongoose、http-poster</code><br><code>npm list 当前目录有什么包，检测node_modules里面有什么</code><br><code>npm install –g 包名  全局安装 cnpm、nrm</code><br>3.cnpm<br>4.nrm<br><code>安装目录npm install -g nrm</code><br><code>nrm ls 查看数据源</code><br><code>nrm test 测试你的网连那个npm的数据源快</code><br><code>nrm use 切换数据源</code><br>5.阅读参考文献 朴灵 require<br>阅读参考文献 package.json全字段解析</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.png"
               alt="Robert" />
          <p class="site-author-name" itemprop="name">Robert</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">31</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">12</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Robert</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
